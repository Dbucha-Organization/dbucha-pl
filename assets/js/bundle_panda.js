(()=>{"use strict";var t={617:(t,e,n)=>{n.d(e,{A:()=>c});var r=n(354),a=n.n(r),o=n(314),i=n.n(o)()(a());i.push([t.id,"* {\n  /* margin: 0; */\n  padding: 0;\n  box-sizing: border-box;\n}\n","",{version:3,sources:["webpack://./src/index.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,UAAU;EACV,sBAAsB;AACxB",sourcesContent:["* {\n  /* margin: 0; */\n  padding: 0;\n  box-sizing: border-box;\n}\n"],sourceRoot:""}]),i.locals={};const c=i},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,a,o){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<t.length;l++){var d=[].concat(t[l]);r&&i[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),e.push(d))}},e}},354:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(a," */");return[e].concat([o]).join("\n")}return[e].join("\n")}},72:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},i=[],c=0;c<t.length;c++){var s=t[c],l=r.base?s[0]+r.base:s[0],d=o[l]||0,u="".concat(l," ").concat(d);o[l]=d+1;var _=n(u),f={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==_)e[_].references++,e[_].updater(f);else{var p=a(f,r);r.byIndex=c,e.splice(c,0,{identifier:u,updater:p,references:1})}i.push(u)}return i}function a(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,a){var o=r(t=t||[],a=a||{});return function(t){t=t||[];for(var i=0;i<o.length;i++){var c=n(o[i]);e[c].references--}for(var s=r(t,a),l=0;l<o.length;l++){var d=n(o[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}o=s}}},659:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;var r,a,o,i,c,s,l,d,u,_,f={},p=[],m=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,g=Array.isArray;function h(t,e){for(var n in e)t[n]=e[n];return t}function y(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function v(t,e,n){var a,o,i,c={};for(i in e)"key"==i?a=e[i]:"ref"==i?o=e[i]:c[i]=e[i];if(arguments.length>2&&(c.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===c[i]&&(c[i]=t.defaultProps[i]);return b(t,c,a,o,null)}function b(t,e,n,r,i){var c={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++o:i,__i:-1,__u:0};return null==i&&null!=a.vnode&&a.vnode(c),c}function w(t){return t.children}function S(t,e){this.props=t,this.context=e}function D(t,e){if(null==e)return t.__?D(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?D(t):null}function C(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return C(t)}}function x(t){(!t.__d&&(t.__d=!0)&&i.push(t)&&!k.__r++||c!==a.debounceRendering)&&((c=a.debounceRendering)||s)(k)}function k(){var t,e,n,r,o,c,s,d;for(i.sort(l);t=i.shift();)t.__d&&(e=i.length,r=void 0,c=(o=(n=t).__v).__e,s=[],d=[],n.__P&&((r=h({},o)).__v=o.__v+1,a.vnode&&a.vnode(r),B(n.__P,r,o,n.__n,n.__P.namespaceURI,32&o.__u?[c]:null,s,null==c?D(o):c,!!(32&o.__u),d),r.__v=o.__v,r.__.__k[r.__i]=r,j(s,r,d),r.__e!=c&&C(r)),i.length>e&&i.sort(l));k.__r=0}function P(t,e,n,r,a,o,i,c,s,l,d){var u,_,m,g,h,y=r&&r.__k||p,v=e.length;for(n.__d=s,q(n,e,y),s=n.__d,u=0;u<v;u++)null!=(m=n.__k[u])&&(_=-1===m.__i?f:y[m.__i]||f,m.__i=u,B(t,m,_,a,o,i,c,s,l,d),g=m.__e,m.ref&&_.ref!=m.ref&&(_.ref&&F(_.ref,null,m),d.push(m.ref,m.__c||g,m)),null==h&&null!=g&&(h=g),65536&m.__u||_.__k===m.__k?s=E(m,s,t):"function"==typeof m.type&&void 0!==m.__d?s=m.__d:g&&(s=g.nextSibling),m.__d=void 0,m.__u&=-196609);n.__d=s,n.__e=h}function q(t,e,n){var r,a,o,i,c,s=e.length,l=n.length,d=l,u=0;for(t.__k=[],r=0;r<s;r++)null!=(a=e[r])&&"boolean"!=typeof a&&"function"!=typeof a?(i=r+u,(a=t.__k[r]="string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?b(null,a,null,null,null):g(a)?b(w,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?b(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=t,a.__b=t.__b+1,o=null,-1!==(c=a.__i=A(a,n,i,d))&&(d--,(o=n[c])&&(o.__u|=131072)),null==o||null===o.__v?(-1==c&&u--,"function"!=typeof a.type&&(a.__u|=65536)):c!==i&&(c==i-1?u--:c==i+1?u++:(c>i?u--:u++,a.__u|=65536))):a=t.__k[r]=null;if(d)for(r=0;r<l;r++)null!=(o=n[r])&&!(131072&o.__u)&&(o.__e==t.__d&&(t.__d=D(o)),V(o,o))}function E(t,e,n){var r,a;if("function"==typeof t.type){for(r=t.__k,a=0;r&&a<r.length;a++)r[a]&&(r[a].__=t,e=E(r[a],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=D(t)),n.insertBefore(t.__e,e||null),e=t.__e);do{e=e&&e.nextSibling}while(null!=e&&8===e.nodeType);return e}function T(t,e){return e=e||[],null==t||"boolean"==typeof t||(g(t)?t.some((function(t){T(t,e)})):e.push(t)),e}function A(t,e,n,r){var a=t.key,o=t.type,i=n-1,c=n+1,s=e[n];if(null===s||s&&a==s.key&&o===s.type&&!(131072&s.__u))return n;if(r>(null==s||131072&s.__u?0:1))for(;i>=0||c<e.length;){if(i>=0){if((s=e[i])&&!(131072&s.__u)&&a==s.key&&o===s.type)return i;i--}if(c<e.length){if((s=e[c])&&!(131072&s.__u)&&a==s.key&&o===s.type)return c;c++}}return-1}function O(t,e,n){"-"===e[0]?t.setProperty(e,null==n?"":n):t[e]=null==n?"":"number"!=typeof n||m.test(e)?n:n+"px"}function I(t,e,n,r,a){var o;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||O(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||O(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])o=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||"onFocusOut"===e||"onFocusIn"===e?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r?n.u=r.u:(n.u=d,t.addEventListener(e,o?_:u,o)):t.removeEventListener(e,o?_:u,o);else{if("http://www.w3.org/2000/svg"==a)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=e&&"height"!=e&&"href"!=e&&"list"!=e&&"form"!=e&&"tabIndex"!=e&&"download"!=e&&"rowSpan"!=e&&"colSpan"!=e&&"role"!=e&&"popover"!=e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null==n||!1===n&&"-"!==e[4]?t.removeAttribute(e):t.setAttribute(e,"popover"==e&&1==n?"":n))}}function $(t){return function(e){if(this.l){var n=this.l[e.type+t];if(null==e.t)e.t=d++;else if(e.t<n.u)return;return n(a.event?a.event(e):e)}}}function B(t,e,n,r,o,i,c,s,l,d){var u,_,f,p,m,y,v,b,D,C,x,k,q,E,T,A,O=e.type;if(void 0!==e.constructor)return null;128&n.__u&&(l=!!(32&n.__u),i=[s=e.__e=n.__e]),(u=a.__b)&&u(e);t:if("function"==typeof O)try{if(b=e.props,D="prototype"in O&&O.prototype.render,C=(u=O.contextType)&&r[u.__c],x=u?C?C.props.value:u.__:r,n.__c?v=(_=e.__c=n.__c).__=_.__E:(D?e.__c=_=new O(b,x):(e.__c=_=new S(b,x),_.constructor=O,_.render=U),C&&C.sub(_),_.props=b,_.state||(_.state={}),_.context=x,_.__n=r,f=_.__d=!0,_.__h=[],_._sb=[]),D&&null==_.__s&&(_.__s=_.state),D&&null!=O.getDerivedStateFromProps&&(_.__s==_.state&&(_.__s=h({},_.__s)),h(_.__s,O.getDerivedStateFromProps(b,_.__s))),p=_.props,m=_.state,_.__v=e,f)D&&null==O.getDerivedStateFromProps&&null!=_.componentWillMount&&_.componentWillMount(),D&&null!=_.componentDidMount&&_.__h.push(_.componentDidMount);else{if(D&&null==O.getDerivedStateFromProps&&b!==p&&null!=_.componentWillReceiveProps&&_.componentWillReceiveProps(b,x),!_.__e&&(null!=_.shouldComponentUpdate&&!1===_.shouldComponentUpdate(b,_.__s,x)||e.__v===n.__v)){for(e.__v!==n.__v&&(_.props=b,_.state=_.__s,_.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some((function(t){t&&(t.__=e)})),k=0;k<_._sb.length;k++)_.__h.push(_._sb[k]);_._sb=[],_.__h.length&&c.push(_);break t}null!=_.componentWillUpdate&&_.componentWillUpdate(b,_.__s,x),D&&null!=_.componentDidUpdate&&_.__h.push((function(){_.componentDidUpdate(p,m,y)}))}if(_.context=x,_.props=b,_.__P=t,_.__e=!1,q=a.__r,E=0,D){for(_.state=_.__s,_.__d=!1,q&&q(e),u=_.render(_.props,_.state,_.context),T=0;T<_._sb.length;T++)_.__h.push(_._sb[T]);_._sb=[]}else do{_.__d=!1,q&&q(e),u=_.render(_.props,_.state,_.context),_.state=_.__s}while(_.__d&&++E<25);_.state=_.__s,null!=_.getChildContext&&(r=h(h({},r),_.getChildContext())),D&&!f&&null!=_.getSnapshotBeforeUpdate&&(y=_.getSnapshotBeforeUpdate(p,m)),P(t,g(A=null!=u&&u.type===w&&null==u.key?u.props.children:u)?A:[A],e,n,r,o,i,c,s,l,d),_.base=e.__e,e.__u&=-161,_.__h.length&&c.push(_),v&&(_.__E=_.__=null)}catch(t){if(e.__v=null,l||null!=i){for(e.__u|=l?160:128;s&&8===s.nodeType&&s.nextSibling;)s=s.nextSibling;i[i.indexOf(s)]=null,e.__e=s}else e.__e=n.__e,e.__k=n.__k;a.__e(t,e,n)}else null==i&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=N(n.__e,e,n,r,o,i,c,l,d);(u=a.diffed)&&u(e)}function j(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)F(n[r],n[++r],n[++r]);a.__c&&a.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){a.__e(t,e.__v)}}))}function N(t,e,n,o,i,c,s,l,d){var u,_,p,m,h,v,b,w=n.props,S=e.props,C=e.type;if("svg"===C?i="http://www.w3.org/2000/svg":"math"===C?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=c)for(u=0;u<c.length;u++)if((h=c[u])&&"setAttribute"in h==!!C&&(C?h.localName===C:3===h.nodeType)){t=h,c[u]=null;break}if(null==t){if(null===C)return document.createTextNode(S);t=document.createElementNS(i,C,S.is&&S),l&&(a.__m&&a.__m(e,c),l=!1),c=null}if(null===C)w===S||l&&t.data===S||(t.data=S);else{if(c=c&&r.call(t.childNodes),w=n.props||f,!l&&null!=c)for(w={},u=0;u<t.attributes.length;u++)w[(h=t.attributes[u]).name]=h.value;for(u in w)if(h=w[u],"children"==u);else if("dangerouslySetInnerHTML"==u)p=h;else if(!(u in S)){if("value"==u&&"defaultValue"in S||"checked"==u&&"defaultChecked"in S)continue;I(t,u,null,h,i)}for(u in S)h=S[u],"children"==u?m=h:"dangerouslySetInnerHTML"==u?_=h:"value"==u?v=h:"checked"==u?b=h:l&&"function"!=typeof h||w[u]===h||I(t,u,h,w[u],i);if(_)l||p&&(_.__html===p.__html||_.__html===t.innerHTML)||(t.innerHTML=_.__html),e.__k=[];else if(p&&(t.innerHTML=""),P(t,g(m)?m:[m],e,n,o,"foreignObject"===C?"http://www.w3.org/1999/xhtml":i,c,s,c?c[0]:n.__k&&D(n,0),l,d),null!=c)for(u=c.length;u--;)y(c[u]);l||(u="value","progress"===C&&null==v?t.removeAttribute("value"):void 0!==v&&(v!==t[u]||"progress"===C&&!v||"option"===C&&v!==w[u])&&I(t,u,v,w[u],i),u="checked",void 0!==b&&b!==t[u]&&I(t,u,b,w[u],i))}return t}function F(t,e,n){try{if("function"==typeof t){var r="function"==typeof t.__u;r&&t.__u(),r&&null==e||(t.__u=t(e))}else t.current=e}catch(t){a.__e(t,n)}}function V(t,e,n){var r,o;if(a.unmount&&a.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||F(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){a.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&V(r[o],e,n||"function"!=typeof t.type);n||y(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function U(t,e,n){return this.constructor(t,n)}function L(t,e,n){var o,i,c,s;a.__&&a.__(t,e),i=(o="function"==typeof n)?null:n&&n.__k||e.__k,c=[],s=[],B(e,t=(!o&&n||e).__k=v(w,null,[t]),i||f,f,e.namespaceURI,!o&&n?[n]:i?null:e.firstChild?r.call(e.childNodes):null,c,!o&&n?n:i?i.__e:e.firstChild,o,s),j(c,t,s)}r=p.slice,a={__e:function(t,e,n,r){for(var a,o,i;e=e.__;)if((a=e.__c)&&!a.__)try{if((o=a.constructor)&&null!=o.getDerivedStateFromError&&(a.setState(o.getDerivedStateFromError(t)),i=a.__d),null!=a.componentDidCatch&&(a.componentDidCatch(t,r||{}),i=a.__d),i)return a.__E=a}catch(e){t=e}throw t}},o=0,S.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof t&&(t=t(h({},n),this.props)),t&&h(n,t),null!=t&&this.__v&&(e&&this._sb.push(e),x(this))},S.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),x(this))},S.prototype.render=w,i=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,l=function(t,e){return t.__v.__b-e.__v.__b},k.__r=0,d=0,u=$(!1),_=$(!0);var Q,M,G,R,H=0,z=[],J=a,W=J.__b,Y=J.__r,K=J.diffed,X=J.__c,Z=J.unmount,tt=J.__;function et(t,e){J.__h&&J.__h(M,t,H||e),H=0;var n=M.__H||(M.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function nt(t){return H=1,function(t,e,n){var r=et(Q++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):ut(void 0,e),function(t){var e=r.__N?r.__N[0]:r.__[0],n=r.t(e,t);e!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=M,!M.u)){var a=function(t,e,n){if(!r.__c.__H)return!0;var a=r.__c.__H.__.filter((function(t){return!!t.__c}));if(a.every((function(t){return!t.__N})))return!o||o.call(this,t,e,n);var i=!1;return a.forEach((function(t){if(t.__N){var e=t.__[0];t.__=t.__N,t.__N=void 0,e!==t.__[0]&&(i=!0)}})),!(!i&&r.__c.props===t)&&(!o||o.call(this,t,e,n))};M.u=!0;var o=M.shouldComponentUpdate,i=M.componentWillUpdate;M.componentWillUpdate=function(t,e,n){if(this.__e){var r=o;o=void 0,a(t,e,n),o=r}i&&i.call(this,t,e,n)},M.shouldComponentUpdate=a}return r.__N||r.__}(ut,t)}function rt(t,e){var n=et(Q++,3);!J.__s&&dt(n.__H,e)&&(n.__=t,n.i=e,M.__H.__h.push(n))}function at(t){return H=5,function(t,e){var n=et(Q++,7);return dt(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}((function(){return{current:t}}),[])}function ot(){for(var t;t=z.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(st),t.__H.__h.forEach(lt),t.__H.__h=[]}catch(e){t.__H.__h=[],J.__e(e,t.__v)}}J.__b=function(t){M=null,W&&W(t)},J.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),tt&&tt(t,e)},J.__r=function(t){Y&&Y(t),Q=0;var e=(M=t.__c).__H;e&&(G===M?(e.__h=[],M.__h=[],e.__.forEach((function(t){t.__N&&(t.__=t.__N),t.i=t.__N=void 0}))):(e.__h.forEach(st),e.__h.forEach(lt),e.__h=[],Q=0)),G=M},J.diffed=function(t){K&&K(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==z.push(e)&&R===J.requestAnimationFrame||((R=J.requestAnimationFrame)||ct)(ot)),e.__H.__.forEach((function(t){t.i&&(t.__H=t.i),t.i=void 0}))),G=M=null},J.__c=function(t,e){e.some((function(t){try{t.__h.forEach(st),t.__h=t.__h.filter((function(t){return!t.__||lt(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],J.__e(n,t.__v)}})),X&&X(t,e)},J.unmount=function(t){Z&&Z(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{st(t)}catch(t){e=t}})),n.__H=void 0,e&&J.__e(e,n.__v))};var it="function"==typeof requestAnimationFrame;function ct(t){var e,n=function(){clearTimeout(r),it&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);it&&(e=requestAnimationFrame(n))}function st(t){var e=M,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),M=e}function lt(t){var e=M;t.__c=t.__(),M=e}function dt(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function ut(t,e){return"function"==typeof e?e(t):e}const _t=["#appointo-btn","#depo-add-to-cart","#signpanda-btn","#product-add-to-cart",".gPreorderAddToCartBtn",".ProductForm__AddToCart",".product-form__cart-submit",".lh-add_to_cart","#AddToCart",".add-to-cart-btn",".product__add-to-cart-button","#AddToCart--product-template","#addToCart","#AddToCart-product-template",".add_to_cart",".product-form--atc-button","#AddToCart-product","#AddToCart--static-product",".AddtoCart","button.btn-addtocart",".product-form--add-to-cart",".product-submit",".single_add_to_cart_button",'[value="Add to Cart"]','[aria-label="Add to cart"]',"[data-action='add-to-cart']",'[name="add"]','[data-pf-type="ProductATC"]',".add-to-cart-button",".shopify-payment-button",'[data-icon="gpicon-product-cartbutton"]',"gp-product-button","product-form",".product-form__item--submit",".product-single__add-to-cart",".product-info__buy-buttons",".ProductForm__BuyButtons",'[data-block-type="buy-buttons"]',".product-page--submit-action","[data-product-submit]",".product-form--atc",".purchase-details",".product-single__form .payment-buttons",".product-form--wide",".product-form--button-container",".product-detail__form__action",".product__submit__buttons",".buy-buttons-row",".t4s-product-form__buttons",".qty-wrapper--with-payment-button",".shopify-product-form",".type_buy_buttons",".product-single__form .add-to-cart",".purchase-section",".product-form__buttons",".product__atc",".ecom-product-single__add-to-cart",".product-form__submit",".product-info__add-to-cart",".yv-checkout-btn",".product-add-to-cart-container",".product__block__buttons"],ft=["#buy-now-button","#buy-now-button-product-template","#buy-now-button-product","#buy-now-button-static-product",".shopify-payment-button__button",".shopify-payment-button__button--unbranded",".shopify-payment-button__button--branded",".shopify-payment-button__button--paypal",".shopify-payment-button__button--apple-pay",".shopify-payment-button__button--google-pay",".shopify-payment-button__button--amazon-pay",".shopify-payment-button__button--affirm",".shopify-payment-button__button--afterpay",".shopify-payment-button__button--shopify-pay",".shopify-payment-button",".ecom-product-single__buy_it_now_btn-buttons-wrapper"],pt=['[data-icon="gpicon-product-quantity"]',"gp-product-quantity",".product-form__quantity",'[data-pf-type="ProductQuantity"]','label[for="Quantity-product-template"]',".product-single__quantity",".product-info__quantity-selector",".ProductForm__QuantitySelector",'[data-block-type="quantity-selector"]',".quantity-controls__outer",".product-form__info-item--quantity",".product-quantity-input",".product-form--atc-qty",".purchase-details__quantity",".product__quantity",".product-form__item--quantity",".quantity-wrapper","[data-quantity-wrapper]",".product-qty",".product-quantity-block",".product-block-quantity-selector",".type_quantity_selector",".quantity.form",".quantity_selector",".quantity--input",".quantity-selector",".ecom-product-single__quantity","quantity-input",".yv-product-quantity","quantity-selector",".product__block__quantity",".qty-container"],mt=["input.product-form__quantity","input.product-single__quantity","input.product-info__quantity-selector","input.ProductForm__QuantitySelector",'input[data-block-type="quantity-selector"]',"input.quantity__input","input.input-text.js_qty"],gt=["#checkout",'form[action="/cart"]',".checkout_button",'[href*="checkout"]',".btn-checkout"],ht=["form.shopify-product-form",".shopify-product-form"],yt=["#CartDrawer",".drawer__cart",".ajax-cart",".mini-cart",".mini_cart",".cart-drawer",".drawer-cart",".cart-sidebar",".cart-drawer-container","#MiniCart","#AjaxCart",".ajaxcart",".ajaxcart__inner",".ajax-cart-content",".side-cart",".offcanvas-cart",".drawer--cart",".cart-popup","#CartPopup",".cart-modal",".cart-slideout",".mini-cart-content",".mini-cart-header",".js-mini-cart-content",".mini-cart-footer",".mini-cart-item",".cart",".cart-page",".cart-template",".template-cart",".page-cart",".cart-wrapper",".cart-content","#cart","#cart-page","#main-cart","#cart-template","#cart-content",".cart__contents","#CartDrawer-Form","form[action*='/cart']",".cart__form","#cart_form","form.cart-form","form#cart-form","form#update-cart",".cart-form-wrapper",".cart__title",".cart-title",".cart_header",".cart-heading","h1.cart-title","h1.cart-header","h1.title--cart",".page-title",".page-heading",".cart-page-title",".cart-section-title",".cart__items",".cart-items","#CartItems",".cart__row",".cart-table",".cart-lines",".cart-products",".cart-product-list",".cart-list",".cart-item-list",".line-items",".line_item","#LineItems","#cart-table",".cart-main",".cart-body",".cart-page-body",".cart-section",".cart-drawer__title",".mini-cart__title",".ajaxcart__title",".drawer__header--cart",".cart-drawer-header",".cart-popup__heading",".cart-modal-title",".main-cart",".cart-main-section",".cart__container",".cart-container",".cart-page-container","#cart-container",".cart-inner",".cart-page-inner",".cart-content-wrapper",".cart-block",".cart-blocks",".cart-box",".cart-top",".cart-page-top",".cart-header-section",".cart-intro",".cart-summary-header",".sc-cart",".sc-cart-wrapper",".wsc-cart",".bc-cart",".drawer-cart-wrapper",".sliding-cart",".floating-cart",".sticky-cart",".cart-section-wrapper",".cart__section",".cart-header-block",".block-cart",".cart-heading-wrapper",".cart-items-wrapper",".cart-page-section",".cart-products-wrapper",".products-in-cart",".your-cart","#your-cart",".your-cart-page",".cart--page",".cart-page--main",".cart-page-content",".cart-page-header",".cart-page-section-header",".cart-items-block",".cart-item-block",".cart-product-block",".cart-list-wrapper",".cart-list-container",".cart-container-block",".cart-notification","cart-notification",".cart-notification-wrapper","#cart-notification",".drawer",".drawer-cover",".Drawer",".quick-cart__main-content","#main-cart-items",".cart-drawer__line-items",".cart-drawer__items",".cart-drawer__body",".side-panel-content",".minicart__entry",".cart-drawer-content-item","#CartDrawerForm","#CartDrawer .drawer__content","cart-drawer-items","#cart-drawer-form",".drawer__items-title","#mini-cart-form",".mini-cart__line-item-list",".sidebar__body",".cart--body",".previewCartList",".cart-items__wrapper",".rebuy-cart__flyout-body",".items",".spurit-occ3__product-cards",".qsc2-drawer-body",".cart-item","cart-remove-button",".previewCartInfo",".cart__ctas",".buy-buttons--compact",".drawer__footer",".ajax-cart__buttons",".taxes-discounts",".button-container","cart-drawer .line-item__content-wrapper",".mini-cart__actions",".cart__checkout-wrapper",".cart__footer-message",".js-contents",".cart--footer",'form[action="/cart"]','form[action="/cart/"]','form[action="cart"]'],vt=["#CartDrawer-Form",".mini-cart-header",".js-mini-cart-content",".mini-cart-footer",".cart-drawer__title",".mini-cart__title",".ajaxcart__title",".drawer__header--cart",".cart-drawer-header",".cart-popup__heading",".cart-modal-title",".cart__title",".cart-title",".cart_header",".cart-heading","h1.cart-title","h1.cart-header","h1.title--cart",".page-title",".page-heading",".cart-page-title",".cart-section-title",".cart-drawer__line-items",".cart-drawer__items",".cart-drawer__body",".side-panel-content",".minicart__entry",".cart-drawer-content-item","#CartDrawerForm",".drawer__items-title","#mini-cart-form",".mini-cart__line-item-list",".sidebar__body",".cart--body",".previewCartList",".cart-items__wrapper",".rebuy-cart__flyout-body",".items",".spurit-occ3__product-cards",".qsc2-drawer-body",".cart__items",".cart-items","#CartItems",".cart__row",".cart-table",".cart-lines",".cart-products",".cart-product-list",".cart-list",".cart-item-list",".line-items",".line_item","#LineItems","#cart-table",".cart-main",".cart-body",".cart-page-body",".cart-section",null],bt=["cart:updated","cart:change","cart:add","cart:clear","cart:refresh","cart:reload","cart:updated:drawer","cart:change:drawer","drawer:cart:updated","drawer:cart:change","ajaxCart:updated","ajaxCart:change","miniCart:updated","miniCart:change"],wt=[".cart",".cart-order",".cart-order__summary",".order-summary",".cart__contents",".cart-items","#CartItems",".cart__items",".cart-table",".cart-lines",".cart-products",".cart-product-list",".cart-list",".cart-item-list",".line-items",".line_item","#LineItems","#cart-table",".cart-main",".cart-body",".cart-page-body",".cart-section",".main-cart",".cart-main-section",".cart__container",".cart-container",".cart-page-container","#cart-container",".cart-inner",".cart-page-inner",".cart-content-wrapper",".cart-block",".cart-blocks",".cart-box",".cart-top",".cart-page-top",".cart-header-section",".cart-intro",".cart-summary-header",".sc-cart",".sc-cart-wrapper",".wsc-cart",".bc-cart",".drawer-cart-wrapper",".sliding-cart",".floating-cart",".sticky-cart",".cart-section-wrapper",".cart__section",".cart-header-block",".block-cart",".cart-heading-wrapper",".cart-items-wrapper",".cart-page-section",".cart-products-wrapper",".products-in-cart",".your-cart","#your-cart",".your-cart-page",".cart--page",".cart-page--main",".cart-page-content",".cart-page-header",".cart-page-section-header",".cart-items-block",".cart-item-block",".cart-product-block",".cart-list-wrapper",".cart-list-container",".cart-container-block",".cart-notification","cart-notification",".cart-notification-wrapper","#cart-notification"],St=[".cart-header",".cart-order__summary",".order-summary__header",".order-summary__body",".order-summary",".cart-order",".cart__title",".cart-title",".cart_header",".cart-heading","h1.cart-title","h1.cart-header","h1.title--cart",".page-title",".page-heading",".cart-page-title",".cart-section-title",".cart__contents",".cart-items","#CartItems",".cart__items",".cart-table",".cart-lines",".cart-products",".cart-product-list",".cart-list",".cart-item-list",".line-items",".line_item","#LineItems","#cart-table",".cart-main",".cart-body",".cart-page-body",".cart-section"],Dt=new Set(["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"]),Ct=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(t=Number(t),isNaN(t))return"0";if(r&&null!=a){const e=Number(a);if(!isNaN(e)){const n=Math.floor(t);t=Number(n)+e,isNaN(t)&&(t=Number(n))}}return e?n&&t%1==0||t%1==0?t.toFixed(0):t.toString():n&&t%1==0?xt(t.toFixed(0),!0):xt(t%1==0?t.toFixed(0):t.toFixed(2).replace(/\.?0+$/,""),!1)};function xt(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=window.Shopify?window.Shopify.locale:"en";n.split("-").length>0&&(n=n.split("-")[0]);let r=window.Shopify?`${n}-${window.Shopify.country}`:"en-US",a=window.Shopify&&window.Shopify.currency?window.Shopify.currency.active:"USD";const o=e||Dt.has(a);return new Intl.NumberFormat(r,{style:"currency",currency:a,minimumFractionDigits:o?0:2,maximumFractionDigits:o?0:2}).format(t)}const kt=(t,e,n,r,a,o)=>{let i;return n===e?r&&r.length>0?r.reduce(((t,e)=>{const n=o.variants.find((t=>String(t.id)===String(e)))||(o.variants&&o.variants.length>0?o.variants[0]:{});return o.settings?.use_product_compate_at_price&&n&&n.compare_at_price?t+n.compare_at_price/100:t+n.price/100}),0):(i=o.variants&&o.variants.length>0?o.variants[0]:{},o.settings?.use_product_compate_at_price&&i&&i.compare_at_price?i.compare_at_price/100*t.quantity:i.price/100*t.quantity):(i=o.variants.find((t=>String(t.id)===String(a)))||(o.variants&&o.variants.length>0?o.variants[0]:{}),o.settings?.use_product_compate_at_price&&i&&i.compare_at_price?i.compare_at_price/100*t.quantity:i.price/100*t.quantity)},Pt=(t,e,n,r,a,o,i)=>{if(t.discount>0){if("fixed_amount"!==t.discount_type){if("percentage"===t.discount_type)return`${t.discount}%`;{const c=kt(t,n,r,a,o,e)-qt(t,n,r,a,o,e);return Ct(c,i)}}{const c=parseFloat(kt(t,n,r,a,o,e)-qt(t,n,r,a,o,e));return Ct(c,i)}}{const c=kt(t,n,r,a,o,e),s=qt(t,n,r,a,o,e);return c>s?Ct(c-s,i):""}},qt=function(t,e,n,r,a,o){let i,c=Gt(t,e,n,r,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null);if("fixed_amount"===t.discount_type)if(c>t.quantity){const e=t.discount,n=c-t.quantity;i=e+e/t.quantity*n}else i=t.discount;else{const s=n===e?r.length?r.reduce(((t,e)=>{const n=o.variants.find((t=>String(t.id)===String(e)));return t+(n?.price||o.variants[0].price)}),0):o.variants[0].price*c:(o.variants.find((t=>String(t.id)===String(a)))?.price||o.variants[0].price)*c;i=(s*("percentage"===t.discount_type?1-t.discount/100:1)-("fixed"===t.discount_type?100*t.discount:0))/100}return o?.settings?.show_each_unit_price&&c&&c>0?parseFloat(i)/c:i},Et=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||"object"!=typeof t)return n;const r=e.split(".").reduce(((t,e)=>t&&t[e]),t);return void 0!==r?r:n},Tt={"pt-pt":"pt",pt_pt:"pt","pt-br":"pt",pt_br:"pt",pt:"pt","en-us":"en",en_us:"en","en-gb":"en",en_gb:"en","en-ca":"en",en_ca:"en","en-au":"en",en_au:"en","en-nz":"en",en_nz:"en",en:"en","es-es":"es",es_es:"es","es-mx":"es",es_mx:"es","es-ar":"es",es_ar:"es","es-co":"es",es_co:"es","es-cl":"es",es_cl:"es",es:"es","fr-fr":"fr",fr_fr:"fr","fr-ca":"fr",fr_ca:"fr","fr-be":"fr",fr_be:"fr","fr-ch":"fr",fr_ch:"fr",fr:"fr","de-de":"de",de_de:"de","de-at":"de",de_at:"de","de-ch":"de",de_ch:"de",de:"de","it-it":"it",it_it:"it","it-ch":"it",it_ch:"it",it:"it","zh-cn":"zh",zh_cn:"zh","zh-tw":"zh_tw",zh_tw:"zh_tw","zh-hk":"zh_tw",zh_hk:"zh_tw",zh:"zh","ja-jp":"ja",ja_jp:"ja",ja:"ja","ko-kr":"ko",ko_kr:"ko",ko:"ko","ru-ru":"ru",ru_ru:"ru",ru:"ru","nl-nl":"nl",nl_nl:"nl","nl-be":"nl",nl_be:"nl",nl:"nl","sv-se":"sv",sv_se:"sv",sv:"sv","no-no":"no",no_no:"no","nb-no":"no",nb_no:"no",no:"no","da-dk":"da",da_dk:"da",da:"da","fi-fi":"fi",fi_fi:"fi",fi:"fi","pl-pl":"pl",pl_pl:"pl",pl:"pl","tr-tr":"tr",tr_tr:"tr",tr:"tr","ar-sa":"ar",ar_sa:"ar","ar-ae":"ar",ar_ae:"ar","ar-eg":"ar",ar_eg:"ar",ar:"ar","hi-in":"hi",hi_in:"hi",hi:"hi","th-th":"th",th_th:"th",th:"th","he-il":"he",he_il:"he",he:"he","id-id":"id",id_id:"id",id:"id","ms-my":"ms",ms_my:"ms",ms:"ms","ro-ro":"ro",ro_ro:"ro",ro:"ro","hu-hu":"hu",hu_hu:"hu",hu:"hu","uk-ua":"uk",uk_ua:"uk",uk:"uk","vi-vn":"vi",vi_vn:"vi",vi:"vi","cs-cz":"cs",cs_cz:"cs",cs:"cs","el-gr":"el",el_gr:"el",el:"el"},At=t=>{if(!t||"string"!=typeof t)return"en";const e=t.toLowerCase().trim();if(Tt[e])return Tt[e];const n=e.split(/[-_]/)[0];return Tt[n]?Tt[n]:n&&2===n.length?n:"en"},Ot=(t,e,n)=>{const r=(t,e)=>e.split(".").reduce(((t,e)=>t&&"object"==typeof t?t[e]:void 0),t),a=At(t);if(e.settings.enable_multi_language&&e.settings.translations&&e.settings.translations[a]){const t=r(e.settings.translations[a],n);if(void 0!==t)return t}if(a!==t&&e.settings.enable_multi_language&&e.settings.translations&&e.settings.translations[t]){const a=r(e.settings.translations[t],n);if(void 0!==a)return a}return r(e.settings,n)},It=(t,e,n,r)=>{const a=At(t);return e.settings.enable_multi_language&&e.bars[r].translations&&e.bars[r].translations[a]&&e.bars[r].translations[a][n]?e.bars[r].translations[a][n]:a!==t&&e.settings.enable_multi_language&&e.bars[r].translations&&e.bars[r].translations[t]&&e.bars[r].translations[t][n]?e.bars[r].translations[t][n]:e.bars[r][n]},$t=()=>{setTimeout((()=>{window.location.href="/checkout"}),1e3)},Bt=()=>{window.location.href="/cart"},jt=["range_type_1"];function Nt(t,e,n){return t.find((t=>e.every(((e,r)=>t[`option${r+1}`]===n[e.name]))))?.id||null}const Ft=["v4iec4-av.myshopify.com"],Vt=["sukats.myshopify.com"],Ut=(t,e,n,r,a,o)=>{if(t.discount&&t.discount>0)return!0;let i;return i=n===e&&r&&r.length>0?o.variants.find((t=>String(t.id)===String(r[0]))):o.variants.find((t=>String(t.id)===String(a)))||o.variants[0],!!(o.settings?.use_product_compate_at_price&&i&&i.compare_at_price&&i.compare_at_price>i.price)};function Lt(t){return new Promise((e=>{t=t||2e3,setTimeout((function(){e()}),t)}))}function Qt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("undefined"!=typeof window&&window.localStorage){const e=localStorage.getItem("pb_session_uuid");if(e)return e;const n=`${t?String(t):""}_${Date.now().toString(36)}_${Math.random().toString(36).substring(2,10)}`;return localStorage.setItem("pb_session_uuid",n),n}return`${t?String(t):""}_${Date.now().toString(36)}_${Math.random().toString(36).substring(2,10)}`}function Mt(t){const e={en:"Free",es:"Gratis",fr:"Gratuit",de:"Kostenlos",it:"Gratuito",pt:"Grátis",ru:"Бесплатно",zh:"免费",zh_Tw:"免費",ja:"無料",ko:"무료",hi:"नि:शुल्क",ar:"مجاني",tr:"Ücretsiz",nl:"Gratis",sv:"Gratis",no:"Gratis",da:"Gratis",fi:"Ilmainen",pl:"Darmowy",cs:"Zdarma",el:"Δωρεάν",th:"ฟรี",he:"חינם",id:"Gratis",ms:"Percuma",ro:"Gratuit",hu:"Ingyenes",uk:"Безкоштовно",vi:"Miễn phí"};return e[At(t)]||e.en}const Gt=(t,e,n,r,a,o)=>{let i=t.quantity;return n===e&&a&&o&&o.id===t.id?i=a[o.id]||t.quantity:n===e&&r&&r.length>0&&(i=r.length),i},Rt=(t,e,n,r,a,o)=>{if(!t?.bars||null==e)return 0;const i=t.bars[e]||o;if(!i)return 0;const c=Gt(i,e,e,n,a,o);if("fixed_amount"===i.discount_type){if(c>i.quantity){const t=i.discount,e=c-i.quantity;return t+t/i.quantity*e}return i.discount}return((n.length?n.reduce(((e,n)=>{const r=t.variants.find((t=>String(t.id)===String(n)));return e+(r?.price||t.variants[0].price)}),0):t.variants[0].price*c)*("percentage"===i.discount_type?1-i.discount/100:1)-("fixed"===i.discount_type?100*i.discount:0))/100},Ht=t=>{let{offerData:e,selected:n,onVariantChange:r}=t;const[a,o]=nt([]);return rt((()=>{const t=e.bars[n];if(!t)return;const r=new URLSearchParams(window.location.search).get("variant")||e.variants[0].id,a=e.variants.find((t=>`${t.id}`==`${r}`)),i={};a&&a.options&&e.options&&e.options.forEach(((t,e)=>{i[t.name]=a.options[e]})),o((e=>e.length===t.quantity&&e.every((t=>JSON.stringify(t)===JSON.stringify(i)))?e:Array.from({length:t.quantity}).map((()=>({...i})))))}),[n,e.bars,e.options]),rt((()=>{const t=e.bars[n];if(!t)return;const r=new URLSearchParams(window.location.search).get("variant")||e.variants[0].id,i=e.variants.find((t=>`${t.id}`==`${r}`)),c={};i&&i.options&&e.options&&e.options.forEach(((t,e)=>{c[t.name]=i.options[e]})),a.some((t=>Object.entries(c).some((e=>{let[n,r]=e;return t?.[n]!==r}))))&&o(Array.from({length:t.quantity}).map((()=>({...c}))))}),[window.location.search]),rt((()=>{const t=a.map((t=>Nt(e.variants,e.options,t)));r&&t.forEach(((t,e)=>{r(e,t)}))}),[a]),{optionSelections:a,handleOptionChange:(t,e,n)=>{o((r=>r.map(((r,a)=>a===t?{...r,[e]:n}:r))))}}},zt=t=>{let{temp:e,lang:n}=t;const r=e?.settings?.countdown_timer||{time:600,title:"Hurry Up!",subtitle:"Sale ends in:",text_message:"",type:"fixed_time",timer_complete:"do_nothing"},a=()=>{if("specific_date"===r.type&&r.scheduled_time){const t=new Date(r.scheduled_time),e=new Date;return Math.max(0,Math.floor((t-e)/1e3))}return r.time||600},[o,i]=nt(a()),[c,s]=nt(!1),[l,d]=nt(!0);rt((()=>{i(a())}),[r.time,r.scheduled_time]),rt((()=>{const t=setInterval((()=>{i((t=>{if("specific_date"===r.type)return a();if(t<=0)switch(s(!0),r.timer_complete){case"hide_timer":return d(!1),0;case"restart_timer":return r.time||600;default:return 0}return t-1}))}),1e3);return()=>clearInterval(t)}),[r.type]);const u=t=>String(Math.max(0,t)).padStart(2,"0"),_=Math.floor(o/86400),f=Math.floor(o%86400/3600),p=Math.floor(o%3600/60),m=o%60,g=Ot(n,e,"countdown_timer.title"),h=Ot(n,e,"countdown_timer.subtitle"),y=Ot(n,e,"countdown_timer.text_message"),b={days:Ot(n,e,"countdown_timer.days_label")||"DAYS",hours:Ot(n,e,"countdown_timer.hours_label")||"HRS",minutes:Ot(n,e,"countdown_timer.minutes_label")||"MINS",seconds:Ot(n,e,"countdown_timer.seconds_label")||"SECS"};return v(window.PBOfferUI.TimerUI,{days:u(_),hours:u(f),minutes:u(p),seconds:u(m),timerTitle:g,timerSubtitle:h,timerTextMessage:y,showTimer:l,isTimerComplete:c,timerSettings:r,temp:e,lang:n,timerLabels:b})},Jt=t=>{let{offerData:e,editMode:n=!1,changeSelectedQuantity:r,onVariantChange:a,selectedVariants:o,currentVariantId:i,remove_branding:c,usingCurrencyConverter:s,remove_decimals:l,handleAddQuantity:d,handleRemoveQuantity:u,dynamicQuantities:_,selectedOffer:f,...p}=t;const[m,g]=nt(0),{optionSelections:h,handleOptionChange:y}=Ht({offerData:e,selected:m,onVariantChange:a});rt((()=>{const t=e.bars.findIndex((t=>t.default)),n=-1!==t?t:0;g(n),r(e.bars[n])}),[e.bars]);const b=v(zt,{temp:e,lang:p.lang});return v(window.PBOfferUI.Template1UI,{offerData:e,getThemeValue:Et,getDefaultText:Ot,selected:m,getDefaultBarText:It,hasDiscount:Ut,getDiscountedPrice:qt,formatPrice:Ct,getTotalPrice:kt,handleOffer:t=>{g(t);let n=e.bars[t];r(n)},handleOptionChange:y,remove_branding:c,usingCurrencyConverter:s,selectedVariants:o,currentVariantId:i,optionSelections:h,getDiscount:Pt,findVariantIdByOptions:Nt,Timer:b,remove_decimals:l,handleAddQuantity:d,handleRemoveQuantity:u,dynamicQuantities:_,selectedOffer:f,shopify_domain:window?.Shopify?.shop,handleAddToCartClick:t=>{p.onAddToCartClick&&p.onAddToCartClick(t)},getEachUnitPriceText:p.getEachUnitPriceText,getSelectedBlockTotalPrice:Rt,...p})},Wt=t=>{let{offerData:e,editMode:n=!1,changeSelectedQuantity:r,onVariantChange:a,selectedVariants:o,currentVariantId:i,remove_branding:c,remove_decimals:s,usingCurrencyConverter:l,handleAddQuantity:d,handleRemoveQuantity:u,dynamicQuantities:_,selectedOffer:f,...p}=t;const[m,g]=nt(0),{optionSelections:h,handleOptionChange:y}=Ht({offerData:e,selected:m,onVariantChange:a});rt((()=>{const t=e.bars.findIndex((t=>t.default)),n=-1!==t?t:0;g(n),r(e.bars[n])}),[e.bars]);const b=v(zt,{temp:e,lang:p.lang});return v(window.PBOfferUI.Template2UI,{offerData:e,getThemeValue:Et,getDefaultText:Ot,selected:m,getDefaultBarText:It,hasDiscount:Ut,getDiscountedPrice:qt,formatPrice:Ct,getTotalPrice:kt,handleOffer:t=>{g(t);let n=e.bars[t];r(n)},handleOptionChange:y,remove_branding:c,usingCurrencyConverter:l,selectedVariants:o,currentVariantId:i,optionSelections:h,getDiscount:Pt,findVariantIdByOptions:Nt,Timer:b,remove_decimals:s,handleAddQuantity:d,handleRemoveQuantity:u,dynamicQuantities:_,selectedOffer:f,shopify_domain:window?.Shopify?.shop,handleAddToCartClick:t=>{p.onAddToCartClick&&p.onAddToCartClick(t)},getEachUnitPriceText:p.getEachUnitPriceText,getSelectedBlockTotalPrice:Rt,...p})},Yt=t=>{let{offerData:e,editMode:n=!1,changeSelectedQuantity:r,onVariantChange:a,selectedVariants:o,currentVariantId:i,remove_branding:c,remove_decimals:s,usingCurrencyConverter:l,handleAddQuantity:d,handleRemoveQuantity:u,dynamicQuantities:_,selectedOffer:f,...p}=t;const[m,g]=nt(0),{optionSelections:h,handleOptionChange:y}=Ht({offerData:e,selected:m,onVariantChange:a});rt((()=>{const t=e.bars.findIndex((t=>t.default)),n=-1!==t?t:0;g(n),r(e.bars[n])}),[e.bars]);const b=v(zt,{temp:e,lang:p.lang});return v(window.PBOfferUI.Template3UI,{offerData:e,getThemeValue:Et,getDefaultText:Ot,selected:m,getDefaultBarText:It,hasDiscount:Ut,getDiscountedPrice:qt,formatPrice:Ct,getTotalPrice:kt,handleOffer:t=>{g(t);let n=e.bars[t];r(n)},handleOptionChange:y,remove_branding:c,usingCurrencyConverter:l,selectedVariants:o,currentVariantId:i,optionSelections:h,getDiscount:Pt,findVariantIdByOptions:Nt,Timer:b,remove_decimals:s,handleAddQuantity:d,handleRemoveQuantity:u,dynamicQuantities:_,selectedOffer:f,shopify_domain:window?.Shopify?.shop,handleAddToCartClick:t=>{p.onAddToCartClick&&p.onAddToCartClick(t)},getEachUnitPriceText:p.getEachUnitPriceText,getSelectedBlockTotalPrice:Rt,...p})},Kt=t=>{let{offerData:e,editMode:n=!1,changeSelectedQuantity:r,onVariantChange:a,selectedVariants:o,currentVariantId:i,remove_branding:c,usingCurrencyConverter:s,remove_decimals:l,handleAddQuantity:d,handleRemoveQuantity:u,dynamicQuantities:_,selectedOffer:f,...p}=t;const[m,g]=nt(0),{optionSelections:h,handleOptionChange:y}=Ht({offerData:e,selected:m,onVariantChange:a});rt((()=>{const t=e.bars.findIndex((t=>t.default)),n=-1!==t?t:0;g(n),r(e.bars[n])}),[e.bars]);const b=v(zt,{temp:e,lang:p.lang});return v(window.PBOfferUI.Template4UI,{offerData:e,getThemeValue:Et,getDefaultText:Ot,selected:m,getDefaultBarText:It,hasDiscount:Ut,getDiscountedPrice:qt,formatPrice:Ct,getTotalPrice:kt,handleOffer:t=>{g(t);let n=e.bars[t];r(n)},handleOptionChange:y,remove_branding:c,usingCurrencyConverter:s,selectedVariants:o,currentVariantId:i,optionSelections:h,getDiscount:Pt,findVariantIdByOptions:Nt,Timer:b,remove_decimals:l,handleAddQuantity:d,handleRemoveQuantity:u,dynamicQuantities:_,selectedOffer:f,shopify_domain:window?.Shopify?.shop,handleAddToCartClick:t=>{p.onAddToCartClick&&p.onAddToCartClick(t)},getEachUnitPriceText:p.getEachUnitPriceText,getSelectedBlockTotalPrice:Rt,...p})},Xt=t=>{let{offerData:e,index:n,handleTemplate:r,editMode:a=!1,isPreview:o=!1,...i}=t;const c=v(zt,{temp:e,lang:i.lang});return v(window.PBOfferUI.RangedTemplate1UI,{offerData:e,index:n,getThemeValue:Et,getDefaultText:Ot,getDefaultBarText:It,Timer:c,handleTemplate:r,getRangedDiscountText:(t,e)=>{const n=t.discount>0?parseFloat(t.discount):0;return"fixed_amount"===t.discount_type?`${e.settings.currency} ${t.discount>0?Ct(n,i?.usingCurrencyConverter,i?.remove_decimals):""}`:"percentage"===t.discount_type?`${t.discount>0?n:""}%`:`${e.settings.currency} ${t.discount>0?Ct(n,i?.usingCurrencyConverter,i?.remove_decimals):""}`},...i})};async function Zt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}function te(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function ee(t,e){this.props=t,this.context=e}(ee.prototype=new S).isPureReactComponent=!0,ee.prototype.shouldComponentUpdate=function(t,e){return te(this.props,t)||te(this.state,e)};var ne=a.__b;a.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),ne&&ne(t)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var re=a.__e;a.__e=function(t,e,n,r){if(t.then)for(var a,o=e;o=o.__;)if((a=o.__c)&&a.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),a.__c(t,e);re(t,e,n,r)};var ae=a.unmount;function oe(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),t.__c.__H=null),null!=(t=function(t,e){for(var n in e)t[n]=e[n];return t}({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return oe(t,e,n)}))),t}function ie(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return ie(t,e,n)})),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function ce(){this.__u=0,this.t=null,this.__b=null}function se(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function le(){this.u=null,this.o=null}a.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),ae&&ae(t)},(ce.prototype=new S).__c=function(t,e){var n=e.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var a=se(r.__v),o=!1,i=function(){o||(o=!0,n.__R=null,a?a(c):c())};n.__R=i;var c=function(){if(! --r.__u){if(r.state.__a){var t=r.state.__a;r.__v.__k[0]=ie(t,t.__c.__P,t.__c.__O)}var e;for(r.setState({__a:r.__b=null});e=r.t.pop();)e.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(i,i)},ce.prototype.componentWillUnmount=function(){this.t=[]},ce.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=oe(this.__b,n,r.__O=r.__P)}this.__b=null}var a=e.__a&&v(w,null,t.fallback);return a&&(a.__u&=-33),[v(w,null,e.__a?null:t.children),a]};var de=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};(le.prototype=new S).__a=function(t){var e=this,n=se(e.__v),r=e.o.get(t);return r[0]++,function(a){var o=function(){e.props.revealOrder?(r.push(a),de(e,t,r)):a()};n?n(o):o()}},le.prototype.render=function(t){this.u=null,this.o=new Map;var e=T(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},le.prototype.componentDidUpdate=le.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){de(t,n,e)}))};var ue="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,_e=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,fe=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,pe=/[A-Z0-9]/g,me="undefined"!=typeof document,ge=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(t)};S.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(S.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var he=a.event;function ye(){}function ve(){return this.cancelBubble}function be(){return this.defaultPrevented}a.event=function(t){return he&&(t=he(t)),t.persist=ye,t.isPropagationStopped=ve,t.isDefaultPrevented=be,t.nativeEvent=t};var we={enumerable:!1,configurable:!0,get:function(){return this.class}},Se=a.vnode;a.vnode=function(t){"string"==typeof t.type&&function(t){var e=t.props,n=t.type,r={},a=-1===n.indexOf("-");for(var o in e){var i=e[o];if(!("value"===o&&"defaultValue"in e&&null==i||me&&"children"===o&&"noscript"===n||"class"===o||"className"===o)){var c=o.toLowerCase();"defaultValue"===o&&"value"in e&&null==e.value?o="value":"download"===o&&!0===i?i="":"translate"===c&&"no"===i?i=!1:"o"===c[0]&&"n"===c[1]?"ondoubleclick"===c?o="ondblclick":"onchange"!==c||"input"!==n&&"textarea"!==n||ge(e.type)?"onfocus"===c?o="onfocusin":"onblur"===c?o="onfocusout":fe.test(o)&&(o=c):c=o="oninput":a&&_e.test(o)?o=o.replace(pe,"-$&").toLowerCase():null===i&&(i=void 0),"oninput"===c&&r[o=c]&&(o="oninputCapture"),r[o]=i}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=T(e.children).forEach((function(t){t.props.selected=-1!=r.value.indexOf(t.props.value)}))),"select"==n&&null!=r.defaultValue&&(r.value=T(e.children).forEach((function(t){t.props.selected=r.multiple?-1!=r.defaultValue.indexOf(t.props.value):r.defaultValue==t.props.value}))),e.class&&!e.className?(r.class=e.class,Object.defineProperty(r,"className",we)):(e.className&&!e.class||e.class&&e.className)&&(r.class=r.className=e.className),t.props=r}(t),t.$$typeof=ue,Se&&Se(t)};var De=a.__r;a.__r=function(t){De&&De(t),t.__c};var Ce=a.diffed;a.diffed=function(t){Ce&&Ce(t);var e=t.props,n=t.__e;null!=n&&"textarea"===t.type&&"value"in e&&e.value!==n.value&&(n.value=null==e.value?"":e.value)};const xe=t=>{let{offerData:e,editMode:n=!1,changeSelectedQuantity:r,onVariantChange:a,selectedVariants:o={},remove_branding:i,usingCurrencyConverter:c,onAddToCart:s,cartButton:l,remove_decimals:d,...u}=t;const[_,f]=nt(0),[p,m]=nt(null),[g,h]=nt("next"),[y,b]=nt(!1),[w,S]=nt([]),D=e?.cross_sell_products||[];if(!D.length)return null;rt((()=>{const t=D[_];if(!t?.options)return;const e={};t.options.forEach((t=>{e[t.name]=t.values[0]})),S([e])}),[_,D]),rt((()=>{const t=D.findIndex((t=>t?.default)),e=-1!==t?t:0;f(e),r&&D[e]&&r(D[e])}),[D]);const C=t=>{if(!t?.variants?.length)return null;const e=w[0]||{},n=Nt(t.variants,t.options,e),r=t.variants.find((t=>String(t.id)===String(n)))||t.variants[0];if(r){const e=r.featured_image?.src||r.image?.src||r.image||t.image;return{...r,image:e}}return null};return v(window.PBOfferUI.CrossSellTemplate1UI,{offerData:e,products:D,selected:_,nextIndex:p,direction:g,animating:y,getThemeValue:Et,getDefaultText:Ot,getDefaultBarText:(t,e,n,r)=>{const a=e.cross_sell_products?.[r];if(!a)return"";const o=a.translations?.[t];return"custom_title"===n?o?.heading||a[n]:o?.[n]||a[n]},getSelectedVariant:C,handleOptionChange:(t,e,n)=>{S((r=>r.map(((r,a)=>a===t?{...r,[e]:n}:r))))},handleAddToCart:async(t,n)=>{t.preventDefault(),t.stopPropagation();const r=C(n);if(r?.id)try{await fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({items:[{id:r.id,quantity:1,properties:{_cross_sell_widget_id:e.id,__pb_offer_variant_id:e?.offer_ab_variant_id}}]})}),window.location.href="/cart"}catch(t){console.error("Failed to add to cart:",t)}},handleNext:t=>{if(t.preventDefault(),t.stopPropagation(),y)return;const e=(_+1)%D.length;h("next"),m(e),b(!0),setTimeout((()=>{f(e),m(null),b(!1)}),300)},handlePrev:t=>{if(t.preventDefault(),t.stopPropagation(),y)return;const e=0===_?D.length-1:(_-1)%D.length;h("prev"),m(e),b(!0),setTimeout((()=>{f(e),m(null),b(!1)}),300)},handleDotClick:(t,e)=>{t.preventDefault(),t.stopPropagation(),y||e===_||(h(e>_?"next":"prev"),m(e),b(!0),setTimeout((()=>{f(e),m(null),b(!1)}),300))},formatPrice:Ct,getDiscountedPrice:qt,getTotalPrice:(t,e,n,r,a,o)=>{let i;return i=a?o.variants.find((t=>String(t.id)===String(a)))||(o.variants&&o.variants.length>0?o.variants[0]:null):C(t),i?i.compareAtPrice?parseFloat(i.compareAtPrice):i.compare_at_price?parseFloat(i.compare_at_price)/100:parseFloat(i.price):parseFloat(t.price)},usingCurrencyConverter:c,remove_decimals:d,shopify_domain:window?.Shopify?.shop,lang:u.lang||"default",optionSelections:w})};var ke=0;function Pe(t,e,n,r,o,i){e||(e={});var c,s,l=e;"ref"in e&&(c=e.ref,delete e.ref);var d={type:t,props:l,key:n,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--ke,__i:-1,__u:0,__source:o,__self:i};if("function"==typeof t&&(c=t.defaultProps))for(s in c)void 0===l[s]&&(l[s]=c[s]);return a.vnode&&a.vnode(d),d}Array.isArray;const qe=t=>{const[e,n]=nt(null),[r,a]=nt({}),[o,i]=nt(e?.quantity),[c,s]=nt({}),[l,d]=nt({}),u=at({});rt((()=>{u.current=l}),[l]);const _=new URLSearchParams(window.location.search).get("variant")||t.offerData.variants[0].id,f=()=>_,p=(t,e,n)=>{d((r=>({...r,[t]:{...r[t],[e]:n}})))},m=(t,e,n)=>t&&e&&n&&t.find((t=>{const r=t.title.split(" / ");return e.every(((t,e)=>{const a=n[t.name]||t.values[0];return r[e]===a}))}))?.id||null;rt((()=>{if(e){const t=c[e.id]||e.quantity;a((n=>{const r=n[e.id];if(!r||0===r.length){const r=Array(t).fill(String(_));return{...n,[e.id]:r}}if(r.length!==t){const a=[...r];if(t>r.length){const e=Array(t-r.length).fill(String(_));a.push(...e)}else a.splice(t);return{...n,[e.id]:a}}return n}))}}),[_,e,c]),rt((()=>{if(t.cartButton&&!t.fromCrossSell)return t.cartButton.addEventListener("click",g),()=>{t.cartButton.removeEventListener("click",g)}}),[t.cartButton,e,r,t.fromCrossSell]);const g=async n=>{const a={...u.current};let o=document.querySelector('input[name="selling_plan"]');if(o||(o=document.querySelector('select[name="selling_plan"]')),o||(o=document.querySelector('[name="selling_plan"]')),!t.offerData.enable_subscription&&o?.value&&(o.value=""),"volume_discounts"===t.offerData.offer_type&&t.offerData.template_type.includes("range_type")){let e=document.querySelector(`#pb-offer-variant-id-${t.index}`);e&&t?.offerData?.offer_ab_variant_id&&(e.value=t.offerData.offer_ab_variant_id)}if(!e||window.pb_force_skip)return void(window.pb_force_skip=!1);const i=r[e.id]||[],s=String(f()),l=(t.offerData.variants.length,t.metaData?.override_cart_button),d=c[e.id]||e.quantity,_=t=>String(t).replace("gid://shopify/ProductVariant/","");let p=[...i],m=!1,g=[];e.enable_free_gift&&e.free_gift_products?.length>0&&(m=!0,e.free_gift_products.forEach(((t,n)=>{for(let r=0;r<(t.quantity||1);r++)if(t.variants&&t.variants.length>1&&!e.enable_variant_selection){const e=a[`${n}_${r}`]||{},o=t.variants.find((n=>{const r=n.title.split(" / ");return t.options.every(((t,n)=>{const a=e[t.name]||t.values[0];return r[n]===a}))}))||t.variants[0];if(o&&o.id){const t=String(o.id).replace("gid://shopify/ProductVariant/","");g.push({id:t,quantity:1,properties:{"_Free Gift":"true"}})}}else{const e=t.variants?.[0]?.id||t.id;if(e){const t=String(e).replace("gid://shopify/ProductVariant/","");g.push({id:t,quantity:1,properties:{"_Free Gift":"true"}})}}})));const h=_(s),y=p.filter((t=>_(t)===h)).length,v=p.length,b=Ft.includes(window?.Shopify?.shop);let w,S=[];if(1===d&&!e?.enable_free_gift)for(let t=0;t<mt.length;t++)if(S=document.querySelectorAll(mt[t]),S.length>0){S.forEach((t=>{w=d*(parseInt(t.value)||1)}));break}let D=document.querySelector(`#pb-offer-variant-id-${t.index}`);if(D&&t?.offerData?.offer_ab_variant_id&&(D.value=t.offerData.offer_ab_variant_id),b){n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation();try{const e=p.reduce(((t,e)=>{const n=_(e);return t[n]=(t[n]||0)+1,t}),{}),n=Object.entries(e).map((e=>{let[n,r]=e;return{id:n,quantity:w||r,...o?.value&&t.offerData.enable_subscription&&{selling_plan:o?.value}}}));g.length>0&&n.push(...g);const r=await Zt("/cart/add.js",{items:n});if(!r)return void console.log("Error adding items to cart:",r);t.offerData.settings.skip_cart?$t():window.location.href="/cart"}catch(t){return void console.error("Error adding items to cart:",t)}}else if(y!==v)if(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),y>0){if(!l){let e=null;if(e=document.querySelector(`#pb-quantity-${t.index}`),!t.offerData.enable_subscription&&o?.value&&(o.value=""),!e)for(let t=0;t<mt.length;t++){const n=document.querySelector(mt[t]);if(n){e=n;break}}e&&(e.value=y,e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})))}const e=p.filter((t=>_(t)!==h)).reduce(((t,e)=>{const n=_(e);return t[n]=(t[n]||0)+1,t}),{});!t.offerData.enable_subscription&&o?.value&&(o.value="");const n=Object.entries(e).map((e=>{let[n,r]=e;return{id:n,quantity:r,...o?.value&&t.offerData.enable_subscription&&{selling_plan:o?.value}}}));if(l&&n.push({id:h,quantity:y,...o?.value&&t.offerData.enable_subscription&&{selling_plan:o?.value}}),n.length>0)try{g.length>0&&n.push(...g);const e=await Zt("/cart/add.js",{items:n});if(!e)return void console.log("cart Error",e);if(!l){window.pb_force_skip=!0;let e=t.cartButton.closest("form");if(!e&&t.cartButton.form&&(e=t.cartButton.form),!e){let n=t.cartButton.nextElementSibling;for(;n;){if(n.tagName&&"form"===n.tagName.toLowerCase()){e=n;break}n=n.nextElementSibling}}if(e){let n=e.querySelector('[name="quantity"]');if(n&&(n.value=y,n.dispatchEvent(new Event("input",{bubbles:!0})),n.dispatchEvent(new Event("change",{bubbles:!0}))),t.offerData.enable_subscription&&o?.value){let t=e.querySelector('[name="selling_plan"]');t&&(t.value=o.value,t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0})))}let r=e.querySelector('[type="submit"]');r?r.click():e.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0})),t.offerData.settings.skip_cart&&setTimeout((()=>{$t()}),500)}else await Zt("/cart/add.js",{items:[{id:h,quantity:y,...o?.value&&t.offerData.enable_subscription&&{selling_plan:o?.value}}]}),t.offerData.settings.skip_cart&&setTimeout((()=>{$t()}),500);return}t.offerData.settings.skip_cart?$t():window.location.href="/cart"}catch(t){return void console.error("Error adding items to cart:",t)}}else try{const e=p.reduce(((t,e)=>{const n=_(e);return t[n]=(t[n]||0)+1,t}),{}),n=Object.entries(e).map((e=>{let[n,r]=e;return{id:n,quantity:w||r,...o?.value&&t.offerData.enable_subscription&&{selling_plan:o?.value}}}));g.length>0&&n.push(...g);const r=await Zt("/cart/add.js",{items:n});if(!r)return void console.log("Error adding items to cart:",r);t.offerData.settings.skip_cart?$t():window.location.href="/cart"}catch(t){return void console.error("Error adding items to cart:",t)}else{let e=document.querySelector(`#pb-quantity-${t.index}`);if(!t.offerData.enable_subscription&&o?.value&&(o.value=""),e&&(e.value=w||v),l){n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation();try{const e=[{id:h,quantity:w||v,...o?.value&&t.offerData.enable_subscription&&{selling_plan:o?.value}}];g.length>0&&e.push(...g);const n=await Zt("/cart/add.js",{items:e});if(!n)return void console.log("cart Error",n);t.offerData.settings.skip_cart?$t():window.location.href="/cart"}catch(t){return void console.error("Error adding items to cart:",t)}}else if(m){n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation();try{if(!await Zt("/cart/add.js",{items:g}))return;const e=w||v;let n=t.cartButton.closest("form");if(!n&&t.cartButton.form&&(n=t.cartButton.form),!n){let e=t.cartButton.nextElementSibling;for(;e;){if(e.tagName&&"form"===e.tagName.toLowerCase()){n=e;break}e=e.nextElementSibling}}if(n){let t=[];for(const e of pt){const r=n.querySelectorAll(e);r.length>0&&t.push(...r)}const r=document.querySelectorAll('input[name="quantity"]');r.length>0&&t.push(...r),[...new Set(t)].forEach((t=>{t.value=e,t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0}))})),setTimeout((()=>{window.pb_force_skip=!0;let t=n.querySelector('[type="submit"]');t?t.click():n.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))}),100)}}catch(t){return}}else{const e=w||v,n=t.cartButton.closest("form");if(n){let t=[];for(const e of pt){const r=n.querySelectorAll(e);r.length>0&&t.push(...r)}const r=document.querySelectorAll('input[name="quantity"]');r.length>0&&t.push(...r),[...new Set(t)].forEach(((t,n)=>{t.value=e,t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0}))}))}if(n){const t=n.onsubmit;n.onsubmit=function(e){const r=new FormData(n);for(let[t,e]of r.entries());if(t)return t.call(this,e)}}}t.offerData.settings.skip_cart&&$t()}},h=o=>{const i=e&&e.id===o.id;if(i)return;n(o);const l=c[o.id]||o.quantity;if(s((t=>({...t,[o.id]:t[o.id]||o.quantity}))),t.offerData.variants.length>1&&l>1&&!r[o.id]){const e=Array(l).fill(String(t.offerData.variants[0].id));a((t=>({...t,[o.id]:e})))}if(!i){const e=document.querySelector(`#pb-quantity-${t.index}`);e&&(e.value=l)}},y=(t,n)=>{e&&a((r=>{const a=c[e.id]||e.quantity,o=[...r[e.id]||Array(a).fill(String(_))];o[t]=String(n);const i=o.some((t=>t!==String(_)));return i?(()=>{for(let t=0;t<ft.length;t++){const e=document.querySelectorAll(ft[t]);if(e.length>0){e[0].style.display="none";break}}})():(()=>{for(let t=0;t<ft.length;t++){const e=document.querySelectorAll(ft[t]);if(e.length>0){e[0].style.display="block";break}}})(),{...r,[e.id]:o}}))},v=n=>{e&&s((r=>{const o=(r[n]||e.quantity)+1;return t.offerData.variants.length>1&&a((t=>{const e=t[n]||[],r=[...e],a=e[e.length-1]||String(_);return r.push(a),{...t,[n]:r}})),{...r,[n]:o}}))},b=n=>{e&&s((r=>{const o=r[n]||e.quantity,i=Math.max(e.quantity,o-1);return t.offerData.variants.length>1&&i<o&&a((t=>{const e=(t[n]||[]).slice(0,i);return{...t,[n]:e}})),{...r,[n]:i}}))},S=async e=>{const n={...u.current};let r=document.querySelector('input[name="selling_plan"]');r||(r=document.querySelector('select[name="selling_plan"]')),r||(r=document.querySelector('[name="selling_plan"]')),!t.offerData.enable_subscription&&r?.value&&(r.value="");const a=e;if(!a)return void console.warn("No bar item provided");const o=String(f()),i=a.quantity;let c=[];a.enable_free_gift&&a.free_gift_products?.length>0&&(hasFreeGifts=!0,a.free_gift_products.forEach(((t,e)=>{for(let r=0;r<(t.quantity||1);r++)if(t.variants&&t.variants.length>1&&!a.enable_variant_selection){const o=`${a.id}_${e}_${r}`,i=n[o]||{},s=t.variants.find((e=>{const n=e.title.split(" / ");return t.options.every(((t,e)=>{const r=i[t.name]||t.values[0];return n[e]===r}))}))||t.variants[0];if(s&&s.id){const t=String(s.id).replace("gid://shopify/ProductVariant/","");c.push({id:t,quantity:1,properties:{"_Free Gift":"true"}})}}else{const e=t.variants?.[0]?.id||t.id;if(e){const t=String(e).replace("gid://shopify/ProductVariant/","");c.push({id:t,quantity:1,properties:{"_Free Gift":"true"}})}}})));try{const e=[{id:String(o).replace("gid://shopify/ProductVariant/",""),quantity:i,...r?.value&&t.offerData.enable_subscription&&{selling_plan:r?.value}}];c.length>0&&e.push(...c);const n=await Zt("/cart/add.js",{items:e});if(!n)return void console.log("Error adding items to cart:",n);t.offerData.settings.skip_cart?$t():window.location.href="/cart"}catch(t){return void console.error("Error adding items to cart:",t)}},D=(t,e)=>{if(!e?.settings?.show_each_unit_price)return"";const n=e.settings?.each_unit_price_text||"/each";return Ot(t,e,"each_unit_price_text")||n};return Pe(w,{children:["volume_discounts"===t.offerData.offer_type&&Pe(w,{children:["type_1"===t.offerData.template_type&&Pe(Jt,{offerData:t.offerData,settings:t.offerData.settings,changeSelectedQuantity:h,onVariantChange:y,selectedVariants:r[e?.id]||[],remove_branding:t.metaData?.remove_branding,usingCurrencyConverter:t.metaData?.using_currency_converter,remove_decimals:t.metaData?.remove_decimals,lang:window?.Shopify&&window?.Shopify?.locale||"en",handleAddQuantity:v,handleRemoveQuantity:b,dynamicQuantities:c,selectedOffer:e,currentVariantId:_,freeGiftOptionSelections:l,handleFreeGiftOptionChange:p,findVariantIdByOptions:m,onAddToCartClick:S,getEachUnitPriceText:D}),"type_2"===t.offerData.template_type&&Pe(Wt,{offerData:t.offerData,settings:t.offerData.settings,changeSelectedQuantity:h,onVariantChange:y,selectedVariants:r[e?.id]||[],remove_branding:t.metaData?.remove_branding,usingCurrencyConverter:t.metaData?.using_currency_converter,remove_decimals:t.metaData?.remove_decimals,lang:window?.Shopify&&window?.Shopify?.locale||"en",handleAddQuantity:v,handleRemoveQuantity:b,dynamicQuantities:c,selectedOffer:e,currentVariantId:_,freeGiftOptionSelections:l,handleFreeGiftOptionChange:p,findVariantIdByOptions:m,onAddToCartClick:S,getEachUnitPriceText:D}),"type_3"===t.offerData.template_type&&Pe(Yt,{offerData:t.offerData,settings:t.offerData.settings,changeSelectedQuantity:h,onVariantChange:y,selectedVariants:r[e?.id]||[],remove_branding:t.metaData?.remove_branding,remove_decimals:t.metaData?.remove_decimals,usingCurrencyConverter:t.metaData?.using_currency_converter,lang:window?.Shopify&&window?.Shopify?.locale||"en",handleAddQuantity:v,handleRemoveQuantity:b,dynamicQuantities:c,selectedOffer:e,currentVariantId:_,freeGiftOptionSelections:l,handleFreeGiftOptionChange:p,findVariantIdByOptions:m,onAddToCartClick:S,getEachUnitPriceText:D}),"type_4"===t.offerData.template_type&&Pe(Kt,{offerData:t.offerData,settings:t.offerData.settings,changeSelectedQuantity:h,onVariantChange:y,selectedVariants:r[e?.id]||[],remove_branding:t.metaData?.remove_branding,remove_decimals:t.metaData?.remove_decimals,usingCurrencyConverter:t.metaData?.using_currency_converter,lang:window?.Shopify&&window?.Shopify?.locale||"en",handleAddQuantity:v,handleRemoveQuantity:b,dynamicQuantities:c,selectedOffer:e,currentVariantId:_,freeGiftOptionSelections:l,handleFreeGiftOptionChange:p,findVariantIdByOptions:m,onAddToCartClick:S,getEachUnitPriceText:D}),"range_type_1"===t.offerData.template_type&&Pe(Xt,{offerData:t.offerData,settings:t.offerData.settings,changeSelectedQuantity:h,onVariantChange:y,selectedVariants:r[e?.id]||[],remove_branding:t.metaData?.remove_branding,remove_decimals:t.metaData?.remove_decimals,usingCurrencyConverter:t.metaData?.using_currency_converter,lang:window?.Shopify&&window?.Shopify?.locale||"en",handleAddQuantity:v,handleRemoveQuantity:b,dynamicQuantities:c,selectedOffer:e,freeGiftOptionSelections:l,handleFreeGiftOptionChange:p,findVariantIdByOptions:m})]}),"cross_sell"===t.offerData.offer_type&&Pe(w,{children:"cross_sell_type_1"===t.offerData.template_type&&Pe(xe,{offerData:t.offerData,settings:t.offerData.settings,changeSelectedQuantity:h,onVariantChange:y,selectedVariants:r[e?.id]||[],remove_branding:t.metaData?.remove_branding,remove_decimals:t.metaData?.remove_decimals,usingCurrencyConverter:t.metaData?.using_currency_converter,lang:window?.Shopify&&window?.Shopify?.locale||"en"})})]})},Ee=t=>{let{offerData:e,selected:n,handleBxGyProductsSelection:r,handleOptionChange:a,optionSelections:o,getSelectedVariantForProduct:i,getTotalPrice:c,getDiscountedPrice:s,getCurrentPrice:l,hasDiscount:d,changeSelectedQuantity:u,dynamicQuantities:_,remove_branding:f,usingCurrencyConverter:p,remove_decimals:m,findVariantIdByOptions:g,isCheckboxDisabled:h,lang:y,...b}=t;if(!(e?.bars||[]).length)return null;const w=v(zt,{temp:e,lang:y});return v(window.PBOfferUI.BxGyTemplate1UI,{offerData:e,getThemeValue:Et,getDefaultText:Ot,selected:n,handleBxGyProductsSelection:r,getTotalPrice:c,getDiscountedPrice:s,getCurrentPrice:l,formatPrice:Ct,handleOptionChange:a,Timer:w,optionSelections:o,remove_branding:f,usingCurrencyConverter:p,remove_decimals:m,hasDiscount:d,findVariantIdByOptions:g,getSelectedVariantForProduct:i,changeSelectedQuantity:u,dynamicQuantities:_,isCheckboxDisabled:h,lang:y||"default",shopify_domain:window?.Shopify?.shop,getFreeTranslation:Mt,...b})},Te=t=>{const[e,n]=nt([]),[r,a]=nt({}),[o,i]=nt([]),c=at(e),s=at(o);rt((()=>{c.current=e}),[e]),rt((()=>{s.current=o}),[o]);const l=t.offerData?.bars||[];if(!l.length)return null;rt((()=>{const t=l.map((t=>{const e={};return t.options&&t.options.forEach((t=>{e[t.name]=t.values[0]})),e}));i(t)}),[l]),rt((()=>{const e=t.offerData?.settings?.selection_rules,r=t.offerData?.settings?.selection_types;let a=t.offerData?.settings?.preselected_items||[];if("all_items_required"===e){const t=l.map((t=>t.id));JSON.stringify(a.sort())!==JSON.stringify(t.sort())&&(a=[])}else"can_choose_among_y_items"===e&&"allow_single_selection"===r&&a.length>1&&(a=[]);if("all_items_required"===e){const t=l.map((t=>t.id));n(t)}else a.length>0?n(a):n([l[0]?.id])}),[l,t.offerData?.settings?.selection_rules,t.offerData?.settings?.selection_types,t.offerData?.settings?.preselected_items]),rt((()=>{const t={};l.forEach((e=>{t[e.id]=e.quantity||1})),a(t)}),[l]);const d=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=s.current;if(!t.offerData?.settings?.include_variants&&e.productId){const t=e.variants?.find((t=>{const n=String(t.id),r=String(e.productId);return r.includes("gid://shopify/ProductVariant/")?n===r.split("/").pop():n===r}));if(t)return t}if(!e?.variants?.length)return e.variants?.[0]||null;const a=r[n]||{},o=Nt(e.variants,e.options,a),i=e.variants.find((t=>String(t.id)===String(o)))||e.variants[0];return i},u=t=>{const e=r[t.id]||t.quantity||1;if(e>1&&t.variants&&t.variants.length>1){let n=0;for(let r=0;r<e;r++){const e=d(t,r);e&&e.price&&(n+=parseFloat(e.price)/100)}return n}{const n=d(t);return n&&n.price?parseFloat(n.price)/100*e:parseFloat(t.price||0)*e}};return rt((()=>{if(t.cartButton&&!t.fromCrossSell){if(t.cartButton._bxgy_handler_attached)return;t.cartButton._bxgy_handler_attached=!0;const e=async e=>{if(c.current.length&&!window.pb_bxgy_force_skip){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();try{const e=[];let n=null,a=1;if(window.onOtherPages){const e=t.cartButton.closest("form");if(e){const t=e.querySelector('[name="id"]');t&&(n=t.value);const r=e.querySelector('[name="quantity"]');r&&(a=parseInt(r.value)||1)}}else{const t=window.pb?.shopify_product;t&&(n=new URLSearchParams(window.location.search).get("variant")||t.variants[0]?.id);let e=null;for(let t=0;t<mt.length;t++)if(e=document.querySelector(mt[t]),e){a=parseInt(e.value)||1;break}}const o=(e=>e>=(t.offerData?.x_products_quantity||1))(a);if(o&&c.current.forEach((n=>{const o=l.find((t=>t.id===n));if(!o)return;const i=l.findIndex((t=>t.id===n)),c=(r[n]||o.quantity,((e,n)=>{const r=t.offerData?.x_products_quantity||1,a=n.quantity||1;return 1===r&&1===a?e:a})(a,o));if(c>1&&o.variants&&o.variants.length>0)for(let n=0;n<c;n++){const n=d(o,i);n&&e.push({id:n.id,quantity:1,properties:{_bxgy_widget_id:t.offerData.id,__pb_offer_variant_id:t.offerData?.offer_ab_variant_id}})}else{const n=d(o,i);n&&e.push({id:n.id,quantity:c,properties:{_bxgy_widget_id:t.offerData.id,__pb_offer_variant_id:t.offerData?.offer_ab_variant_id}})}})),0===e.length)return;const i=await fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({items:e})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);if(await i.json(),t.offerData?.settings?.skip_cart)window.location.href="/checkout";else{let e=t.cartButton.closest("form");if(!e&&t.cartButton.form&&(e=t.cartButton.form),!e){let n=t.cartButton.nextElementSibling;for(;n;){if(n.tagName&&"form"===n.tagName.toLowerCase()){e=n;break}n=n.nextElementSibling}}e?(window.pb_bxgy_force_skip=!0,setTimeout((()=>{let t=e.querySelector('[type="submit"]');t?t.click():e.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))}),100)):window.location.href="/cart"}}catch(t){console.error("Failed to add to cart:",t)}}else window.pb_bxgy_force_skip=!1};return t.cartButton.addEventListener("click",e),()=>{t.cartButton&&(t.cartButton._bxgy_handler_attached=!1,t.cartButton.removeEventListener("click",e))}}}),[t.cartButton,t.fromCrossSell]),v(Ee,{offerData:t.offerData,selected:e,handleBxGyProductsSelection:r=>{const a=t.offerData?.settings?.selection_rules,o=t.offerData?.settings?.selection_types;let i;if(e.includes(r)){if("all_items_required"===a)return;i=e.filter((t=>t!==r))}else i="all_items_required"===a?l.map((t=>t.id)):"can_choose_among_y_items"===a&&"allow_single_selection"===o?[r]:[...e,r];n(i)},handleOptionChange:(t,e,n)=>{i((r=>r.map(((r,a)=>a===t?{...r,[e]:n}:r))))},optionSelections:o,getSelectedVariantForProduct:d,getTotalPrice:u,getDiscountedPrice:e=>{const n=u(e),r=t.offerData?.settings?.discount_amount||0,a=t.offerData?.settings?.discount_type||"percentage";return"percentage"===a?n-n*r/100:"fixed"===a?Math.max(0,n-r):n},getCurrentPrice:t=>{const e=d(t);return e&&e.price?parseFloat(e.price)/100:parseFloat(t.price||0)},hasDiscount:e=>(t.offerData?.settings?.discount_amount||0)>0,changeSelectedQuantity:t=>{t?.id&&a((e=>({...e,[t.id]:t.quantity||1})))},dynamicQuantities:r,remove_branding:t.remove_branding,usingCurrencyConverter:t.usingCurrencyConverter,remove_decimals:t.remove_decimals,findVariantIdByOptions:Nt,isCheckboxDisabled:e=>{const n=t.offerData?.settings?.selection_rules;return"all_items_required"===n},lang:t.lang||"default"})},Ae={request:async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={...e.headers};try{const r=await fetch(`https://bundle.sidepanda.com${t}`,{...e,headers:n});if(!r.ok)throw 401===r.status?console.error("Unauthorized: Invalid token or session expired"):console.error(`Error ${r.status}: ${r.statusText}`),new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(t){throw console.error("Fetch error:",t.message),t}},get:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ae.request(t,{...e,method:"GET"})},post:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ae.request(t,{...n,method:"POST",body:JSON.stringify(e)})},put:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ae.request(t,{...n,method:"PUT",body:JSON.stringify(e)})},delete:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ae.request(t,{...e,method:"DELETE"})}},Oe=Ae,Ie=async function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return await Oe.get(`/scripttag/product?shop=${t}&product_uuid=${e}&preview=${n}${r?`&offer_id=${r}`:""}${a?`&force_show=${a}`:""}&session_uuid=${o}`)},$e=async function(t){return await Oe.get(`/scripttag/offers_stats?shopify_domain=${t}`)},Be=async function(t,e){return await Oe.get(`/scripttag/get_free_shipping_details?shopify_domain=${t}&offer_name=${e}`)},je=t=>{let{offerData:e,remove_branding:n,shopify_domain:r,remove_decimals:a,usingCurrencyConverter:o,isCheckboxDisabled:i,selectAllProducts:c,selectLimitedProducts:s,...l}=t;const[d,u]=nt(0),[_,f]=nt([]),[p,m]=nt((()=>{const t={};return e.bundle_products.forEach(((n,r)=>{if(n.variants&&n.variants.length>1&&e.settings.include_variants)for(let e=0;e<n.quantity;e++)t[`${r}-${e}`]=n.variants[0].id})),t}));function g(t,n,r){if(!e.settings.include_variants||t.variants.length<=1)return Number(t.price);const a=p[`${r}-${n}`],o=t.variants.find((t=>t.id===a))||t.variants[0];return Number(o.price)}function h(t){return t.reduce(((t,n,r)=>{if(e.settings.allow_selection&&!_[n.id])return t;let a=0;for(let t=0;t<n.quantity;t++)a+=g(n,t,r);return t+a}),0).toFixed(2)}function y(t){return"fixed"==e.settings.discount_type?h(t)-e.settings.discount:"fixed_amount"==e.settings.discount_type?e.settings.discount:(h(t)-h(t)*e.settings.discount/100).toFixed(2)}rt((()=>{e.settings?.allow_selection&&e?.settings?.pre_select_products&&((!e.settings?.min_products||null!=e.settings?.max_products&&0!=e.settings?.max_products)&&e.settings?.max_products?f(s(e.settings?.max_products,e)):f(c(e)))}),[e.settings?.allow_selection,e.settings?.pre_select_products,e.settings?.max_products]);const b=v(zt,{temp:e,lang:l.lang});return v(window.PBOfferUI.BTemplate1UI,{offerData:e,getThemeValue:Et,getDefaultText:Ot,formatPrice:Ct,getTotalPrice:h,getDiscountedPrice:y,handleSelection:(t,n)=>{2!==e.bundle_products.length&&f((e=>({...e,[t]:n.target.checked})))},handleVariantChange:(t,e,n)=>{m((r=>({...r,[`${t}-${e}`]:n})))},isCheckboxDisabled:i,selectedProducts:_,selectedVariants:p,addToCart:async()=>{let t=[];if(e.settings.allow_selection&&Object.values(_).filter(Boolean).length<2)window.alert("Please select at least 2 products for the bundle");else if(e.bundle_products.forEach(((n,r)=>{if(!e.settings.allow_selection||_[n.id])if(e.settings.include_variants&&n.variants&&n.variants.length>0)for(let a=0;a<n.quantity;a++){const o=p[`${r}-${a}`],i=o?n.variants.find((t=>t.id===o)):n.variants[0];if(i){const n=i.id.replace("gid://shopify/ProductVariant/","");t.push({id:n,quantity:1,...e?.offer_ab_variant_id&&{properties:{__pb_offer_variant_id:e?.offer_ab_variant_id}}})}}else{const r=n.id.replace("gid://shopify/ProductVariant/","");t.push({id:r,quantity:n.quantity,...e?.offer_ab_variant_id&&{properties:{__pb_offer_variant_id:e?.offer_ab_variant_id}}})}})),e.settings?.free_gift_products?.length>0&&e.settings.free_gift_products.forEach((n=>{if(e.settings.include_variants&&n.variants&&n.variants.length>0)for(let e=0;e<n.quantity;e++){const e=n.variants[0];if(e){const n=e.id.replace("gid://shopify/ProductVariant/","");t.push({id:n,quantity:1,properties:{"_Free Gift":"true"}})}}else{const e=n.id.replace("gid://shopify/ProductVariant/","");t.push({id:e,quantity:n.quantity,properties:{"_Free Gift":"true"}})}})),0!==t.length)try{let n=await Zt("/cart/add.js",{items:t});if(422===n.status)return console.log("resp",n),void window.alert(n.message);"zkn9p0-pq.myshopify.com"===r||e.settings.skip_cart?$t():Bt()}catch(t){console.error("Error adding items to cart:",t)}else window.alert("Please select at least one product")},Timer:b,remove_branding:n,usingCurrencyConverter:o,getVariantPrice:g,remove_decimals:a,shopify_domain:r,getDiscount:function(t,e,n,r){if("fixed_amount"===e.settings?.discount_type){const e=h(t)-y(t);return Ct(e,n,r)}return"fixed"===e.settings?.discount_type?Ct(e.settings.discount,n,r):`${e.settings.discount}%`},hasDiscount:function(t){return h(t)-y(t)>0},...l})},Ne=t=>{let{offerData:e,remove_branding:n,shopify_domain:r,isCheckboxDisabled:a,selectAllProducts:o,selectLimitedProducts:i,...c}=t;const[s,l]=nt(0),[d,u]=nt([]),[_,f]=nt((()=>{const t={};return e.bundle_products.forEach(((n,r)=>{if(n.variants&&n.variants.length>1&&e.settings.include_variants)for(let e=0;e<n.quantity;e++)t[`${r}-${e}`]=n.variants[0].id})),t}));function p(t,n,r){if(!e.settings.include_variants||t.variants.length<=1)return Number(t.price);const a=_[`${r}-${n}`],o=t.variants.find((t=>t.id===a))||t.variants[0];return Number(o.price)}function m(t){return t.reduce(((t,n,r)=>{if(e.settings.allow_selection&&!d[n.id])return t;let a=0;for(let t=0;t<n.quantity;t++)a+=p(n,t,r);return t+a}),0).toFixed(2)}function g(t){return"fixed"==e.settings.discount_type?m(t)-e.settings.discount:"fixed_amount"==e.settings.discount_type?e.settings.discount:(m(t)-m(t)*e.settings.discount/100).toFixed(2)}rt((()=>{e.settings?.allow_selection&&e?.settings?.pre_select_products&&((!e.settings?.min_products||null!=e.settings?.max_products&&0!=e.settings?.max_products)&&e.settings?.max_products?u(i(e.settings?.max_products,e)):u(o(e)))}),[e.settings?.allow_selection,e.settings?.pre_select_products,e.settings?.max_products]);const h=v(zt,{temp:e,lang:c.lang});return v(window.PBOfferUI.BTemplate2UI,{offerData:e,getThemeValue:Et,getDefaultText:Ot,formatPrice:Ct,getTotalPrice:m,getDiscountedPrice:g,handleSelection:(t,n)=>{2!==e.bundle_products.length&&u((e=>({...e,[t]:n.target.checked})))},handleVariantChange:(t,e,n)=>{f((r=>({...r,[`${t}-${e}`]:n})))},isCheckboxDisabled:a,selectedProducts:d,selectedVariants:_,addToCart:async()=>{let t=[];if(e.settings.allow_selection&&Object.values(d).filter(Boolean).length<2)window.alert("Please select at least 2 products for the bundle");else if(e.bundle_products.forEach(((n,r)=>{if(!e.settings.allow_selection||d[n.id])if(e.settings.include_variants&&n.variants&&n.variants.length>0)for(let a=0;a<n.quantity;a++){const o=_[`${r}-${a}`],i=o?n.variants.find((t=>t.id===o)):n.variants[0];if(i){const n=i.id.replace("gid://shopify/ProductVariant/","");t.push({id:n,quantity:1,...e?.offer_ab_variant_id&&{properties:{__pb_offer_variant_id:e?.offer_ab_variant_id}}})}}else{const r=n.id.replace("gid://shopify/ProductVariant/","");t.push({id:r,quantity:n.quantity,...e?.offer_ab_variant_id&&{properties:{__pb_offer_variant_id:e?.offer_ab_variant_id}}})}})),e.settings?.free_gift_products?.length>0&&e.settings.free_gift_products.forEach((n=>{if(e.settings.include_variants&&n.variants&&n.variants.length>0)for(let e=0;e<n.quantity;e++){const e=n.variants[0];if(e){const n=e.id.replace("gid://shopify/ProductVariant/","");t.push({id:n,quantity:1,properties:{"_Free Gift":"true"}})}}else{const e=n.id.replace("gid://shopify/ProductVariant/","");t.push({id:e,quantity:n.quantity,properties:{"_Free Gift":"true"}})}})),0!==t.length)try{let n=await Zt("/cart/add.js",{items:t});if(422===n.status)return console.log("resp",n),void window.alert(n.message);"zkn9p0-pq.myshopify.com"===r||e.settings.skip_cart?$t():Bt()}catch(t){console.error("Error adding items to cart:",t)}else window.alert("Please select at least one product")},Timer:h,remove_branding:n,getVariantPrice:p,shopify_domain:r,getDiscount:function(t,e,n,r){if("fixed_amount"===e.settings?.discount_type){const e=m(t)-g(t);return Ct(e,n,r)}return"fixed"===e.settings?.discount_type?Ct(e.settings.discount,n,r):`${e.settings.discount}%`},hasDiscount:function(t){return m(t)-g(t)>0},...c})},Fe=t=>{const e=(t,e,n)=>{const r=Object.values(e).filter(Boolean).length;return!!n.settings.allow_selection&&(2===n.bundle_products.length||(n.settings?.max_products&&r>=n.settings.max_products?!e[t]:(n.settings?.min_products&&r<=n.settings?.min_products||!n.settings?.min_products&&r<=2)&&e[t]))},n=t=>{const e={};return t.bundle_products.forEach((t=>{e[t.id]=!0})),e},r=(t,e)=>{const n={};return e.bundle_products.slice(0,t).forEach((t=>{n[t.id]=!0})),n};return Pe("div",{style:{borderColor:t.bundleData.settings.theme_primary_color},children:["bundle_type_2"===t.bundleData.template_type&&Pe(Ne,{offerData:t.bundleData,lang:window?.Shopify&&window?.Shopify?.locale||"en",shopify_domain:t.shopify_domain,remove_decimals:t.remove_decimals,usingCurrencyConverter:t.usingCurrencyConverter,isCheckboxDisabled:e,selectAllProducts:n,selectLimitedProducts:r}),"bundle_type_1"===t.bundleData.template_type&&Pe(je,{offerData:t.bundleData,remove_branding:t.remove_branding,shopify_domain:t.shopify_domain,lang:window?.Shopify&&window?.Shopify?.locale||"en",remove_decimals:t.remove_decimals,usingCurrencyConverter:t.usingCurrencyConverter,isCheckboxDisabled:e,selectAllProducts:n,selectLimitedProducts:r})]})},Ve=t=>{let{offerData:e,index:n,handleTemplate:r,editMode:a=!1,isPreview:o=!1,steps:i=[],currentActiveStep:c=1,completedSteps:s=new Set,newlyCompletedStep:l=null,onStepClick:d=()=>{},progressPercentage:u=0,..._}=t;const f=at(null);return rt((()=>{const t=window.PBOfferUI.CTemplate1UI({offerData:e,getThemeValue:Et,getDefaultText:Ot,getDefaultBarText:It,formatPrice:Ct,usingCurrencyConverter:_.shop?.currency,remove_decimals:_.shop?.remove_decimals,lang:_.lang||"default",steps:i,currentActiveStep:c,completedSteps:s,newlyCompletedStep:l,onStepClick:d,progressPercentage:u});return f.current&&L(t,f.current),()=>{f.current&&L(null,f.current)}}),[e,_.lang,c,s,l,It,d,i,u]),Pe("div",{ref:f})},Ue=t=>{const[e,n]=nt("default"),[r,a]=nt(1),[o,i]=nt(new Set),[c,s]=nt(null),[l,d]=nt([]),[u,_]=nt(t.cartData),f=at(null);window.refreshCartOffers=async()=>{try{const t=await fetch("/cart.js");if(t.ok){const e=await t.json();_(e)}}catch(t){console.error("Manual refresh failed:",t)}};const p=(e,n,r,a)=>{if(!e)return"";let o=e;if(o.includes("{{minimum_order_value}}")){const e=n?.minimum_order_value||0;o=o.replace(/\{\{minimum_order_value\}\}/g,`${Ct(e,t.metaData.using_currency_converter,t.metaData.remove_decimals)}`)}if(o.includes("{{minimum_cart_quantity}}")){const t=n?.minimum_quantity||0;o=o.replace(/\{\{minimum_cart_quantity\}\}/g,t)}return o};rt((()=>{const e=(n=t.offerData?.bars,n&&0!==n.length?n.map(((t,e)=>({id:t?.id,heading:t?.heading,label:t?.heading,description:p(t?.description,t),goal_message:t?.goal_message,goal_title:t?.goal_title,goal_type:t?.goal_type,discount_type:t?.discount_type,discount:t?.discount,minimum_order_value:t?.minimum_order_value,minimum_quantity:t?.minimum_quantity,free_gift_products:t?.free_gift_products||[],enable_free_shipping:"enable_free_shipping"===t?.goal_type}))):[{id:1,heading:"10% Off",label:"10% Off",goal_type:"order_discount",discount:10,minimum_order_value:"999"},{id:2,heading:"Free Shipping",label:"Free Shipping",goal_type:"enable_free_shipping",minimum_order_value:"1500"}]);var n;d(e)}),[t.offerData?.bars]),rt((()=>{t.cartData&&_(t.cartData)}),[t.cartData]),rt((()=>{const t=window.fetch;return window.fetch=async(e,n)=>{const r="string"==typeof e?e:e?.url||e?.toString?.()||"",a=await t(e,n);if(r.includes("/cart/change")||r.includes("/cart/update.js")||r.includes("/cart/add.js")||r.includes("/cart/change.js")||r.includes("/cart/clear.js")||r.includes("/cart/update")||r.includes("/cart/add")||r.includes("/cart/clear")){if(a.ok)try{const t=a.clone(),e=await t.json();if(e&&(e.items||void 0!==e.item_count))return _(e),a}catch(t){console.log("Could not parse cart API response as JSON")}setTimeout((async()=>{try{const t=await fetch("/cart.js");if(t.ok){const e=await t.json();_(e)}else console.log("No cart data received")}catch(t){console.error("Failed to refresh cart data:",t)}}),1e3)}return a},()=>{window.fetch=t}}),[]),rt((()=>{if(window.__cartOffersSetCartData=_,!window.__cartOffersListenersAdded){const t=async()=>{try{const t=await fetch("/cart.js");if(t.ok){const e=await t.json();window.__cartOffersSetCartData&&window.__cartOffersSetCartData(e)}}catch(t){console.error("Failed to refresh cart data on event:",t)}},e=t=>{console.log("📡 Received cart offers update event"),t.detail&&t.detail.cartData&&window.__cartOffersSetCartData&&window.__cartOffersSetCartData(t.detail.cartData)};window.__cartOffersHandlers={handleCartUpdate:t,handleCartOffersUpdate:e},console.log("adding listeners lets seeeeeee"),document.addEventListener("cart:updated",t),document.addEventListener("cart:change",t),document.addEventListener("cart:add",t),document.addEventListener("cart:clear",t),window.addEventListener("cart:updated",t),window.addEventListener("cart:change",t),window.addEventListener("cart:add",t),window.addEventListener("cart:clear",t),document.addEventListener("cartOffers:update",e),window.__cartOffersListenersAdded=!0;const n=()=>{if(console.log("removing listeners lets seeeeeee"),window.__cartOffersHandlers){const{handleCartUpdate:t,handleCartOffersUpdate:e}=window.__cartOffersHandlers;document.removeEventListener("cart:updated",t),document.removeEventListener("cart:change",t),document.removeEventListener("cart:add",t),document.removeEventListener("cart:clear",t),window.removeEventListener("cart:updated",t),window.removeEventListener("cart:change",t),window.removeEventListener("cart:add",t),window.removeEventListener("cart:clear",t),document.removeEventListener("cartOffers:update",e),window.__cartOffersListenersAdded=!1,window.__cartOffersHandlers=null,window.__cartOffersSetCartData=null}};window.addEventListener("beforeunload",n)}return()=>{window.__cartOffersSetCartData===_&&(window.__cartOffersSetCartData=null)}}),[]),rt((()=>{const e=u?.token?.substring(0,10);e!==window.lastCartToken&&(window.lastCartToken=e),u&&t?.offerData&&l?.length&&(t?.offerData?.active?(console.log("processCartOffers",window.processingCartOffers),(async()=>{if(window.processingCartOffers)return;window.processingCartOffers=!0;const e=t?.offerData?.progress_type,n=m(e,u),r=new Set,o=[];if(l?.forEach((t=>{const a=g(t,n,e);if("free_gift"===t.goal_type){if(a&&t.free_gift_products?.length>0){const e=u?.items||[];t.free_gift_products.some((t=>{const n=t.variantId||t.id;if(!t||!n)return!1;let r;try{r=n.includes("/")?parseInt(n.split("/").pop()):parseInt(n)}catch(t){return console.error("Error parsing free gift variant ID:",t),!1}return!isNaN(r)&&e.some((t=>t.variant_id===r))}))?r.add(t.id):o.push(t)}}else a&&r.add(t.id)})),o.length>0){const t=[];o.forEach((e=>{e.free_gift_products?.length>0&&t.push(...e.free_gift_products)})),t.length>0&&await y(t)}i(r);const c=l?.find((t=>!r.has(t.id)));if(c){const t=l?.findIndex((t=>t.id===c.id));a(t+1)}else a(l?.length);window.processingCartOffers=!1})()):console.log("Offer is not active"))}),[u,t?.offerData,l]);const m=(t,e)=>{if(!e?.items)return 0;const n=e.items.filter((t=>!t.properties||("true"!==t.properties["_Free Gift"]||!l.some((e=>!("free_gift"!==e.goal_type||!e.free_gift_products)&&e.free_gift_products.some((e=>{const n=e.variantId||e.id;if(!n)return!1;const r=n.includes("/")?parseInt(n.split("/").pop()):parseInt(n);return t.variant_id===r})))))));let r;switch(t){case"cart_subtotal":default:return r=n.reduce(((t,e)=>t+(e.original_line_price||0)),0)/100,r;case"cart_quantity":case"order_quantity":return r=n.reduce(((t,e)=>t+(e.quantity||0)),0),r;case"cart_total":return r=n.reduce(((t,e)=>t+(e.final_line_price||e.line_price||0)),0)/100,r}},g=(t,e,n)=>!!t.goal_type&&("free_gift"===t.goal_type?e>=h(t,n):"order_discount"===t.goal_type?void 0!==t.discount&&null!==t.discount&&!isNaN(t.discount)&&e>=h(t,n):"enable_free_shipping"===t.goal_type&&e>=h(t,n)),h=(t,e)=>{switch(e){case"cart_subtotal":case"cart_total":default:return t.minimum_order_value?parseFloat(t.minimum_order_value):t.minimum_quantity?parseFloat(t.minimum_quantity):0;case"cart_quantity":case"order_quantity":return t.minimum_quantity?parseFloat(t.minimum_quantity):t.minimum_order_value?parseFloat(t.minimum_order_value):0}},y=async t=>{if(t&&0!==t.length)try{const e=u?.items||[],n=t.filter((t=>{const n=t.variantId||t.id;if(!n)return!0;const r=n.includes("/")?parseInt(n.split("/").pop()):parseInt(n);return!!isNaN(r)||!e.some((t=>t.variant_id===r))}));if(0===n.length)return void console.log("All free gifts already in cart");console.log("Adding new free gifts to cart:",n.length),await v(n)&&window.location.reload()}catch(t){console.error("Failed to add free gifts to cart:",t)}},v=async t=>{try{const e=t.map((t=>{const e=t.variantId||t.id;return{id:e?.includes("gid://")?e.split("/").pop():e,quantity:t.quantity||1,properties:{"_Free Gift":"true"}}})),n=await fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:e})});if(!n.ok){const t=await n.text();throw console.error("Cart add error:",n.status,t),new Error(`Cart add failed: ${n.status} ${t}`)}return await n.json(),!0}catch(t){return console.error("Error adding free gifts to cart:",t),!1}};if(!t?.offerData?.active)return null;if(!l||0===l.length)return null;const b=window.location.pathname.includes("/products/"),S=t.cartSelector&&(t.cartSelector.includes("mini-cart")||t.cartSelector.includes("cart-drawer")||t.cartSelector.includes("drawer")||t.cartSelector.includes("ajax-cart"));return b&&!S?(console.log("Skipping render on product page - not in cart drawer context"),null):Pe(w,{children:"cart_offers"===t.offerData.offer_type&&Pe(w,{children:"cart_offers_type_1"===t.offerData.template_type&&Pe(Ve,{offerData:t.offerData,lang:e,steps:l,currentActiveStep:r,completedSteps:o,newlyCompletedStep:c,onStepClick:t=>null,ref:f,handleNextStep:()=>null,progressPercentage:(()=>{if(!u||!l?.length)return 0;const e=t?.offerData?.progress_type,n=m(e,u),r=o.size,a=r/l.length*100;if(r===l.length)return 100;const i=l.find((t=>!o.has(t.id)));if(!i)return 100;const c=h(i,e),s=r>0?h(l[r-1],e):0,d=Math.max(0,n-s),_=c-s,f=Math.min(d/_*(100/l.length)*.25,100/l.length);return Math.min(a+f,100)})(),...t})})})};function Le(t){if(window.PBOfferUI)return t?.();const e=document.querySelector('script[src*="ui_library.js"]');e&&e.remove();const n=document.createElement("script");n.src="https://d2dgc1sflovifl.cloudfront.net/ui_library.js",n.onload=()=>{console.log("PBOfferUI loaded",window.PBOfferUI),t?.()},n.onerror=()=>{console.error("Failed to load PBOfferUI")},document.body.appendChild(n)}var Qe,Me=n(72),Ge=n.n(Me),Re=n(825),He=n.n(Re),ze=n(659),Je=n.n(ze),We=n(56),Ye=n.n(We),Ke=n(540),Xe=n.n(Ke),Ze=n(113),tn=n.n(Ze),en=n(617),nn={};nn.styleTagTransform=tn(),nn.setAttributes=Ye(),nn.insert=Je().bind(null,"head"),nn.domAPI=He(),nn.insertStyleElement=Xe(),Ge()(en.A,nn),en.A&&en.A.locals&&en.A.locals,Qe=document.querySelector("body"),L(v((function(){const t=Vt.includes(window?.Shopify?.shop),e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;if(!t)return;let n=0;const r=setInterval((()=>{n++,document.getElementById("offers-list-container-0")?n>=e&&clearInterval(r):(window.pb.offerData&&window.pb.metaData&&i(window.pb.offerData,null,window.pb.metaData),clearInterval(r))}),100)};async function n(t,e){let n=function(){try{const e=(t={},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(e,n,r){t[n]=r})),t);return e&&e.variant?e.variant:""}catch(t){return console.warn("Error getting selected variant:",t),""}var t}();n||(n=e.variants[0].id);let r=e.variants.find((t=>`${t.id}`==`${n}`)),a=t;if(r&&a.bars.forEach((t=>{t.price=r.price/100,t.product_image={...t.product_image,variant_image_url:e?.images[0]},t.compare_at_price=r.compare_at_price/100})),a={...a,variants:e.variants,options:e.options},a.bars&&a.bars.length>0)for(let t of a.bars)if(t.enable_free_gift&&t.free_gift_products&&t.free_gift_products.length>0){const e=t.free_gift_products.map((async t=>{try{const e=await fetch(`${window.Shopify.routes.root||"/"}products/${t.handle}.js`,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)return console.warn(`Failed to fetch free gift product: ${t.handle}`),t;const n=await e.json();return{...t,variants:n.variants||[],options:n.options||[],price:n.variants?.[0]?.price?n.variants[0].price/100:t.price,image:n.images?.[0]?.src||t.image}}catch(e){return console.error(`Error fetching free gift product ${t.handle}:`,e),t}}));t.free_gift_products=await Promise.all(e)}return a}function r(t,e){if(e){const n=t.querySelectorAll(e);if(n.length>0)return n[0]}else for(let e=0;e<_t.length;e++){const n=t.querySelectorAll(_t[e]);if(n.length>0)return n[0]}return null}function a(t,e,n){t&&e&&(n?.parentNode===t?t.insertBefore(e,n):t.appendChild(e))}function o(t,e,n,o,i,c,s){let l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};const d=t?.widget_selector;let u=!1;if(d){const _=document.querySelector(d);if(_){let d=null;"cross-sell"===i?d=function(t,e){for(let e=0;e<ft.length;e++){const n=t.querySelectorAll(ft[e]);if(n.length>0)return n[0]}return r(t,e)}(o,c):"bundle"!==i&&(d=r(o,c)),"volume_discount"===i&&d&&function(t,e,n,r){if(!t)return;const o=t.parentNode;if(r){if("running"===e?.ab_testing_status){const e=document.createElement("input");e.id=`pb-offer-variant-id-${n}`,e.type="hidden",e.name="properties[__pb_offer_variant_id]",e.value=null,a(o,e,t)}}else if(!document.getElementById(`pb-quantity-${n}`)){const r=document.createElement("input");r.id=`pb-quantity-${n}`,r.type="hidden",r.name="quantity",r.value="1";let i=t.closest("form");if(!i)for(let t=0;t<ht.length&&(i=document.querySelector(ht[t]),!i);t++);if(i?i.appendChild(r):a(o,r,t),"running"===e?.ab_testing_status){const t=document.createElement("input");t.id=`pb-offer-variant-id-${n}`,t.type="hidden",t.name="properties[__pb_offer_variant_id]",t.value=null,a(o,t,r)}}t.id||(t.id=`cart-button-${n}`)}(d,t,e,s),function(t,e,n,r,a,o){let i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};const c="cross-sell"===o?`offers-list-container-cross-sell-${r}`:"bxgy"===o?`offers-list-container-bxgy-${r}`:"bundle"===o?`offers-list-container-bundle-${r}`:`offers-list-container-${r}`,s=document.createElement("div");s.id=c,s.setAttribute("data-custom-placement","true"),"bundle"===o&&(s.style.marginTop="50px",s.style.minWidth="400px"),t.appendChild(s);try{L("bxgy"===o?Pe(Te,{cartButton:e,offerData:n,index:r,metaData:a,customPlacement:!0,lang:window?.Shopify&&window?.Shopify?.locale||"en",...i}):"bundle"===o?Pe(Fe,{bundleData:n,remove_branding:a.remove_branding,remove_decimals:a.remove_decimals,usingCurrencyConverter:a.using_currency_converter,shopify_domain:window.Shopify.shop,customPlacement:!0,...i}):Pe(qe,{cartButton:e,offerData:n,index:r,metaData:a,customPlacement:!0,...i}),s)}catch(t){console.error(`Failed to render ${o} offers in custom placement:`,t)}}(_,d,t,e,n,i,l),u=!0}}return!!u}async function i(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;for(;;){if(window.PBOfferUI){console.log("no delay");break}console.log("pbofferui delay"),await Lt(50)}if(r.hasAttribute&&r.hasAttribute("data-bundle-rendered"))return;if(r.setAttribute&&r.setAttribute("data-bundle-rendered","true"),!t&&!e)return;let s=jt.includes(t?.template_type),{cartSelector:l,quantitySelector:d,removeQuantitySelector:u}=n;if(c(n),t&&"volume_discounts"===t.offer_type){if(document.getElementById(`offers-list-container-${i}`)){const e=document.getElementById(`offers-list-container-${i}`),r=e.getAttribute("data-cart-button-id"),a=document.getElementById(r);L(Pe(qe,{cartButton:a,offerData:t,index:i,metaData:n}),e)}else if(o(t,i,n,r,"volume_discount",l,s))console.log("skipping volume discount default placement (already rendered)");else{let e=[];if(l)e=r.querySelectorAll(l);else for(let t=0;t<_t.length&&(e=r.querySelectorAll(_t[t]),!(e.length>0));t++);if(e.length>0){const r=e[0],o=r.parentNode,c=document.createElement("div");if(c.id=`offers-list-container-${i}`,c.setAttribute("data-cart-button-id",r.id||"cart-button"),r.id||(r.id="cart-button"),a(o,c,r),s){if("running"===t?.ab_testing_status){const t=document.createElement("input");t.id=`pb-offer-variant-id-${i}`,t.type="hidden",t.name="properties[__pb_offer_variant_id]",t.value=null,a(o,t,r)}}else if(!document.getElementById(`pb-quantity-${i}`)){const e=document.createElement("input");e.id=`pb-quantity-${i}`,e.type="hidden",e.name="quantity",e.value="1";let n=r.closest("form");if(!n)for(let t=0;t<ht.length&&(n=document.querySelector(ht[t]),!n);t++);if(n?n.appendChild(e):a(o,e,r),"running"===t?.ab_testing_status){const t=document.createElement("input");t.id=`pb-offer-variant-id-${i}`,t.type="hidden",t.name="properties[__pb_offer_variant_id]",t.value=null,a(o,t,e)}}try{L(Pe(qe,{cartButton:r,offerData:t,index:i,metaData:n}),c)}catch(t){console.error("Failed to render offers list:",t)}}}let e=r;if(window.onOtherPages){const t=r.closest("section");t&&(e=t)}let c=[];if(!s)if(d)c=e.querySelectorAll(d),c.length>0&&(c[0].style.display="none",u&&c.forEach((t=>{t.id.includes("pb-quantity")||t.remove()})));else for(let t=0;t<pt.length;t++)if(c=e.querySelectorAll(pt[t]),c.length>0){c[0].style.display="none",u&&c.forEach((t=>{t.id.includes("pb-quantity")||t.remove()}));break}}if(t&&"cross_sell"===t.offer_type)if(document.getElementById(`offers-list-container-cross-sell-${i}`)){const e=document.getElementById(`offers-list-container-cross-sell-${i}`),r=e.getAttribute("data-cart-button-id"),a=document.getElementById(r);L(Pe(qe,{cartButton:a,offerData:t,index:i,metaData:n}),e)}else if(o(t,i,n,r,"cross-sell",l,s,{fromCrossSell:!0}))console.log("=== SKIPPING CROSS-SELL DEFAULT PLACEMENT (ALREADY RENDERED) ===");else{let e=[];for(let t=0;t<ft.length&&(e=r.querySelectorAll(ft[t]),!(e.length>0));t++);if(0===e.length)if(l)e=r.querySelectorAll(l);else for(let t=0;t<_t.length&&(e=r.querySelectorAll(_t[t]),!(e.length>0));t++);if(e.length>0){const r=e[0],o=r.parentNode,c=document.createElement("div");c.id=`offers-list-container-cross-sell-${i}`,c.setAttribute("data-cart-button-id",r.id||"cart-button"),r.id||(r.id="cart-button"),a(o,c,r.nextSibling);try{L(Pe(qe,{cartButton:r,offerData:t,index:i,metaData:n,fromCrossSell:!0}),c)}catch(t){console.error("Failed to render offers list:",t)}}}if(t&&"bxgy"===t.offer_type)if(document.getElementById(`offers-list-container-bxgy-${i}`)){const e=document.getElementById(`offers-list-container-bxgy-${i}`),r=e.getAttribute("data-cart-button-id"),a=document.getElementById(r);L(Pe(Te,{cartButton:a,offerData:t,index:i,metaData:n,lang:window?.Shopify&&window?.Shopify?.locale||"en"}),e)}else if(o(t,i,n,r,"bxgy",l,s))console.log("=== SKIPPING BXGY DEFAULT PLACEMENT (ALREADY RENDERED) ===");else{let e=[];if(l)e=r.querySelectorAll(l);else for(let t=0;t<_t.length&&(e=r.querySelectorAll(_t[t]),!(e.length>0));t++);if(e.length>0){const r=e[0],o=r.parentNode,c=document.createElement("div");c.id=`offers-list-container-bxgy-${i}`,c.setAttribute("data-cart-button-id",r.id||"cart-button"),r.id||(r.id="cart-button"),a(o,c,r);try{L(Pe(Te,{cartButton:r,offerData:t,index:i,metaData:n,lang:window?.Shopify&&window?.Shopify?.locale||"en"}),c)}catch(t){console.error("Failed to render BxGy offers list:",t)}}}if(e&&"bundle"===e.offer_type&&!o(e,i,n,r,"bundle",l,s)){const t=(t,r)=>{const a=document.createElement("div");a.id=`offers-list-container-bundle-${i}`,a.style.marginTop="50px",a.style.minWidth="400px","mwmio.myshopify.com"!==window.Shopify.shop||window.onOtherPages?t.appendChild(a):(t=document.querySelector(".product-form__buttons")).appendChild(a),L(Pe(Fe,{bundleData:e,remove_branding:n.remove_branding,remove_decimals:n.remove_decimals,usingCurrencyConverter:n.using_currency_converter,shopify_domain:window.Shopify.shop}),a)},a=[...ft,..._t];if(l){const e=r.querySelectorAll(l);if(e.length>0)return void t(e[0].parentNode,r)}for(let e of a){const n=r.querySelectorAll(e);if(n.length>0){t(n[0].parentNode,r);break}}}}function c(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.global_css){let e=document.createElement("style");e.innerHTML=t.global_css,document.head.appendChild(e)}}async function s(t){const e=new Set;t.bars.forEach((t=>{t.handle&&e.add(t.handle)}));const n=await Promise.all(Array.from(e).map((async t=>{try{const e=await fetch(`${window.Shopify.routes.root||"/"}products/${t}.js`,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)return null;const n=await e.text();return n?JSON.parse(n):null}catch(e){return console.error(`Failed to fetch product ${t}:`,e),null}}))),r=new Map;return n.forEach((t=>{t&&r.set(t.handle,t)})),{...t,bars:t.bars.map((t=>{const e=r.get(t.handle);return e?{...t,variants:e.variants||[],options:e.options||[],price:e.variants?.[0]?.price/100||t.price,compare_at_price:e.variants?.[0]?.compare_at_price/100||t.compare_at_price,image:e.images?.[0]||t.image}:t}))}}function l(t,e){if(!t||!t.bars||!Array.isArray(t.bars))return console.warn("Invalid BxGy offers data:",t),null;if(!t.settings?.include_variants){let n=null;const r=new URLSearchParams(window.location.search);if(n=r.get("variant"),!n&&window.ShopifyAnalytics?.meta?.selectedVariantId&&(n=window.ShopifyAnalytics.meta.selectedVariantId),!n&&e?.variants?.length>0&&(n=e.variants[0].id),n){let e=!1;if("selected_collections"!==t.selected_products_mode||t.selected_products&&Array.isArray(t.selected_products)&&0!==t.selected_products.length?t.selected_products&&Array.isArray(t.selected_products)&&t.selected_products.length>0&&(e=t.selected_products.some((t=>{const e=t.productId;return!(!e||!n)&&(e.includes("gid://shopify/ProductVariant/")?e.split("/").pop()===String(n):String(e)===String(n))}))):e=!0,!e)return null}}let n={...t};return n={...n,offer_type:"bxgy",current_product_variants:e.variants||[],current_product_options:e.options||[]},n}async function d(t){const e=await async function(){try{return(await fetch("/cart.js",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json()}catch(t){return console.error("Failed to get cart data:",t),null}}();let n=null,r=null;const o=sessionStorage.getItem("__pb_offer_stats"),i=o?JSON.parse(o):null,c=i?.cart_drawer_selector;if(c&&(r=document.querySelector(c),r&&(n=c)),!r||!n)for(let t=0;t<yt.length;t++){const e=document.querySelector(yt[t]);if(e){if(yt[t].includes("form[action*='/cart']")&&window.location.pathname.includes("/products/"))continue;n=yt[t],r=e,console.log("Cart drawer found using selector:",n);break}}if(!r)return void console.log("No cart drawer element found");if(r.querySelector(".cart-offers-wrapper"))return void console.log("Cart offers already rendered, skipping");const s=document.createElement("div");s.className="cart-offers-wrapper",s.style.minHeight="95px",s.style.width="100%",s.id="cart-offers-container";const l={cart_selector:t?.cart_selector,global_css:t?.global_css||"",override_cart_button:t?.override_cart_button,quantity_selector:t?.quantity_selector,remove_branding:t?.remove_branding,remove_decimals:t?.remove_decimals,remove_quantity_selector:t?.remove_quantity_selector,using_currency_converter:t?.using_currency_converter};try{L(Pe(Ue,{cartSelector:n,offerData:t,cartData:e,metaData:l}),s),console.log("Rendering cart offers and inserting into drawer..."),function(t,e){let n=!1;for(let r=0;r<vt.length;r++){const o=vt[r];let i=null;if(o?(i=t.querySelector(o),i&&console.log("Found insertion point:",o)):(i=t,console.log(" Using cart element as fallback insertion point")),i){o&&(o.includes("title")||o.includes("header")||o.includes("heading"))?(console.log("Inserting after title/header:",o),a(i.parentNode,e,i.nextSibling)):o&&(o.includes("items")||o.includes("body")||o.includes("content"))?(console.log("Inserting before items/content:",o),a(i.parentNode,e,i)):(console.log("Inserting at beginning of element:",o||"cart element"),a(i,e,i.firstChild)),n=!0;break}}n||(console.log("append to cart element"),t.appendChild(e)),console.log("Cart offers UI inserted successfully")}(r,s)}catch(t){console.error("Failed to render cart offers:",t)}}function u(t,e){const n=sessionStorage.getItem("__pb_offer_stats"),r=n?JSON.parse(n):null,a=r?.enable_cart_drawer,o=window.location.href.includes("/cart");if(!a&&!o)return;window.cartOffersData=t;const i=async()=>{try{await new Promise((t=>setTimeout(t,200)));const e=await fetch("/cart.js");if(!e.ok)return void console.log("Failed to fetch cart data");const n=await e.json();console.log("Cart changed, updating cart offers data...");const r=document.querySelector(".cart-offers-wrapper");if(r){const t=new CustomEvent("cartOffers:update",{detail:{cartData:n}});r.dispatchEvent(t),console.log("Cart offers data updated"),document.dispatchEvent(t)}else console.log("Cart offers wrapper not found, re-inserting..."),o?_(t):d(t)}catch(t){console.error("Error updating cart offers data:",t)}};bt.forEach((t=>{const n=t=>{i(),e&&e()};document.addEventListener(t,n),window.addEventListener(t,n)})),["cart:updated","cart:change","cart:add","cart:remove","cart:clear","change","input","submit"].forEach((t=>{document.addEventListener(t,(t=>{t.target&&(t.target.closest(".mini-cart-content")||t.target.closest(".cart-offers-wrapper")||t.target.closest("[data-cart]")||t.target.closest('form[action*="/cart"]'))&&(i(),e&&e())}),!0)})),new MutationObserver((t=>{let n=!1;t.forEach((t=>{if("childList"===t.type&&t.addedNodes.length>0)for(let e of t.addedNodes)if(1===e.nodeType&&yt.some((t=>{try{return e.matches&&e.matches(t)}catch(t){return!1}}))){n=!0;break}})),n&&(clearTimeout(window.cartOffersCheckTimeout),window.cartOffersCheckTimeout=setTimeout((()=>{i(),e&&e()}),500))})).observe(document.body,{childList:!0,subtree:!0}),console.log("Cart change listener setup complete");try{const e=document.querySelector(".mini-cart-content")||document.querySelector(r?.cart_drawer_selector||"");e&&new MutationObserver((()=>{!document.querySelector(".cart-offers-wrapper")&&t?.active&&(o?_(t):d(t))})).observe(e,{childList:!0,subtree:!0})}catch(t){}let c=null;const s=new MutationObserver((t=>{t.forEach((t=>{if("attributes"===t.type&&"style"===t.attributeName){const t=document.querySelector(".mini-cart-content");if(t){const n=null!==t.offsetParent;n&&!c?c||(c=setInterval((()=>{const t=document.querySelector(".cart-offers-wrapper"),n=document.querySelector(".mini-cart-content");t&&n&&null!==n.offsetParent?(console.log("🔄 [App] Periodic cart offers check (cart drawer open)"),i(),e&&e()):(clearInterval(c),c=null)}),5e3)):!n&&c&&(clearInterval(c),c=null)}}}))})),l=document.querySelector(".mini-cart-content");l&&s.observe(l,{attributes:!0,attributeFilter:["style","class"]})}function _(t){const e="j8whuz-68.myshopify.com"===window.Shopify?.shop;if(e){const t=document.querySelector(".cart-offers-wrapper");if(t?.isConnected&&t.children.length>0)return;t?.remove()}fetch("/cart.js").then((t=>t.json())).then((n=>{let r=null,o=null;const i=sessionStorage.getItem("__pb_offer_stats"),c=i?JSON.parse(i):null,s=c?.cart_page_selector;if(s&&(r=document.querySelector(s),r&&(o=s)),!r||!o)for(let t=0;t<wt.length;t++){const e=document.querySelector(wt[t]);if(e){o=wt[t],r=e;break}}if(!r)return;const l=document.createElement("div");l.className="cart-offers-wrapper",l.id="cart-offers-container",l.style.minHeight="95px",l.style.width="100%",function(t,e){let n=!1;for(let r=0;r<St.length;r++){const o=t.querySelector(St[r]);if(o){a(o.parentNode,e,o.nextSibling),n=!0;break}}n||a(t,e,t.firstChild)}(r,l),L(v(Ue,{offerData:t,cartData:n,metaData:{global_css:""},cartSelector:o,currentPage:window.location.href,isCartPage:!0,isProductPage:!1,onCartPage:!0,onOtherPages:!1}),l),u(t,p),e&&r&&(window.__cartWrapperObserver&&window.__cartWrapperObserver.disconnect(),window.__cartWrapperObserver=new MutationObserver((()=>{!document.querySelector(".cart-offers-wrapper")&&t?.active&&setTimeout((()=>{document.querySelector(".cart-offers-wrapper")||_(t)}),500)})),window.__cartWrapperObserver.observe(r,{childList:!0,subtree:!0}))})).catch((t=>{console.error("Failed to fetch cart data for cart page:",t)}))}function f(){Le((async()=>{const t=sessionStorage.getItem("__pb_offer_stats"),e=t?JSON.parse(t):null,n=e?.enable_cart_drawer;let r=await fetch(`https://bundle.sidepanda.com/scripttag//cart_based_offers?session_uuid=${Qt()}&shopify_domain=${window?.Shopify?.shop}`,{method:"GET",headers:{"Content-Type":"application/json"}});const a=await r.json();a?.cart_based_offer?.active?n?window.onCartPage||window.location.href.includes("/cart")?(window.onCartPage=!0,c(a),_(a?.cart_based_offer)):(c(a),d(a?.cart_based_offer),u(a?.cart_based_offer,p),window.onCartPage=!1):window.onCartPage||window.location.href.includes("/cart")?(window.onCartPage=!0,c(a),_(a?.cart_based_offer)):console.log("don't render in other pages"):console.log("No Cart Offer")}))}rt((()=>{let n=null;t&&(n=new MutationObserver((t=>{t.forEach((t=>{"childList"===t.type&&t.removedNodes.forEach((t=>{"offers-list-container-0"===t.id&&setTimeout((()=>{window.pb.offerData&&window.pb.metaData&&i(window.pb.offerData,null,window.pb.metaData)}),100)}))}))})),n.observe(document.body,{childList:!0,subtree:!0}));const r=()=>{const n=document.URL,r=new URL(n).searchParams.get("variant");if(r)if(window.onOtherPages){console.log("onOtherPages");let t=!1;if(window.pb.otherPagesData.forEach((e=>{e.shopify_product.variants.find((t=>`${t.id}`==`${r}`))&&(t=e)})),t){const e=t.offerData,n=t.shopify_product.variants.find((t=>`${t.id}`==`${r}`));if(e&&e.bars&&e.bars.forEach((t=>{t.price=n.price/100,t.compare_at_price=n.compare_at_price/100})),e&&"bxgy"===e.offer_type){const n=l(e,t.shopify_product),r=t.element.querySelector('[id*="offers-list-container-bxgy"]');if(r){const t=r.parentNode;t&&t.removeAttribute&&t.removeAttribute("data-bundle-rendered"),r.remove()}n&&(t.offerData=n,i(n,null,t.metaData,t.element,t.index))}else i(e,null,t.metaData,t.element,t.index)}}else{let n=window.pb.shopify_product.variants.find((t=>`${t.id}`==`${r}`));if(n&&window.pb.offerData&&window.pb.offerData.bars){const r=window.pb.offerData;let a=window.pb.metaData;r.bars.forEach((t=>{t.price=n.price/100,t.compare_at_price=n.compare_at_price/100})),t?e():i(r,null,a)}const a=document.getElementById("offers-list-container-bxgy-0");if(a){const t=a.parentNode;t&&t.removeAttribute&&t.removeAttribute("data-bundle-rendered"),a.remove()}let o=window.pb.bxgyData;if(!o&&window.pb.originalBxgyData&&(o=window.pb.originalBxgyData),o){const t=l(o,window.pb.shopify_product);t?(window.pb.bxgyData=t,i(t,null,window.pb.metaData)):window.pb.bxgyData=null}}else e()};return document.addEventListener("change",r),()=>{document.removeEventListener("change",r),n&&n.disconnect()}}),[]);const p=async()=>{if(window.location.href.includes("/cart"))try{const t=await fetch("/cart.js");if(!t.ok)return void console.log("Failed to fetch cart data");const e=await t.json();console.log("Cart data for free shipping check:",e);let n=null;if(e.cart_level_discount_applications)for(const t of e.cart_level_discount_applications)if(t.title&&t.title.includes(" | __free_shipping")){const[e]=t.title.split(" | ");n=e.trim();break}if(!n&&e.items)for(const t of e.items){if(t.properties&&t.properties._bundle_name&&"true"===t.properties.__free_shipping){n=t.properties._bundle_name;break}if(t.line_level_discount_allocations)for(const e of t.line_level_discount_allocations)if(e.discount_application?.title&&e.discount_application.title.includes(" | __free_shipping")){const[t]=e.discount_application.title.split(" | ");n=t.trim();break}if(n)break}if(console.log("Free shipping offer name:",n),!n)return console.log("No free shipping offers applied in cart"),void(async()=>{let t=await fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({discount:""})}),e=await t.json();console.log("discount removed:",e)})();const r=await Be(window.Shopify.shop,encodeURIComponent(n));console.log("Free shipping offer details response:",r),!0===r.enable_free_shipping&&r.discount_code?(console.log(`Free shipping is enabled - setting up checkout button interception with discount code: ${r.discount_code}`),(t=>{let e=null;for(const t of gt)if(document.querySelector(t)){e=document.querySelector(t);break}e?(e.addEventListener("click",(function(e){e.preventDefault(),console.log(`Checkout button clicked - applying free shipping discount: ${t}`),window.location.href=`/checkout?discount=${encodeURIComponent(t)}`})),console.log(`Free shipping checkout interception setup complete with discount code: ${t}`)):console.log("No checkout button found")})(r.discount_code)):console.log("Free shipping is not enabled for this offer")}catch(t){console.error("Error checking free shipping from cart:",t)}};return rt((()=>{let r=!0;return Le((()=>{})),async function(){await(async()=>{const t=await(async()=>{const t=sessionStorage.getItem("__pb_offer_stats");if(t)return JSON.parse(t);const e=await $e(window.Shopify.shop);return sessionStorage.setItem("__pb_offer_stats",JSON.stringify(e)),e})();t?.enable_cart_drawer&&t?.cart_based_offer_count>0?(console.log("loadCartOffers called"),f()):console.log("no cart offer")})(),console.log("initialize"),await p();const a=await async function(){const t=window.location.pathname,e=t.substring(t.lastIndexOf("/")+1);return e&&!["all","/","cart","search"].includes(e)&&t.includes("products/")?fetch(`${window.Shopify.routes.root||"/"}products/${e}.js`,{method:"GET",headers:{Accept:"application/json"}}):{status:404}}();if(404!==a.status&&r){window.onOtherPages=!1,window.onCartPage=!1;let r=await a.clone().json();window.pb={shopify_product:r},await async function(r){let a=null,o=null,c=null,d={};const u=window.Shopify.shop,_=!window.ShopifyAnalytics;console.log("shopify",r);const f=new URL(window.location.href),p=f.searchParams.get("offer_id"),m=f.searchParams.get("force_show");let g=null;if(window.ShopifyAnalytics?.meta?.product?.gid?g=window.ShopifyAnalytics.meta.product.gid:r?.id&&(g=`gid://shopify/Product/${r.id}`),g){console.log("productUuid",g);try{const t=await Ie(u,g,_,p,m,Qt());if(t.cross_sell_discounts){const e=t.cross_sell_discounts.cross_sell_products.map((t=>fetch(`${window.Shopify.routes.root||"/"}products/${t.handle}.js`,{method:"GET",headers:{Accept:"application/json"}}).then((t=>t.ok?t.text().then((t=>{if(!t)return null;try{return JSON.parse(t)}catch(t){return null}})):null)).then((e=>e?{...t,variants:e.variants||[{id:t.id,title:t.title,price:t.price,image:t.image,taxable:t.taxable}],options:e.options||[]}:{...t,variants:t.variants||[],options:t.options||[]}))));Promise.all(e).then((e=>{c={...t.cross_sell_discounts,offer_type:"cross_sell",template_type:"cross_sell_type_1",cross_sell_products:e,variants:r.variants,options:r.options},window.pb.crossSellData=c,i(c,null,d)}))}if(t.volume_discounts&&(a=await n(t.volume_discounts,r),window.pb.offerData=a),t.bxgy_discounts){console.log("=== BxGy Discounts Found ===");try{const e=await s(t.bxgy_discounts);if(e){window.pb.originalBxgyData=e;const t=l(e,r);t?window.pb.bxgyData=t:console.log("BxGy returned null variant does not match")}else console.log("Failed to fetch real-time BxGy data")}catch(t){console.error("Error processing BxGy data:",t)}}if(d={cartSelector:t.cart_selector,quantitySelector:t.quantity_selector,removeQuantitySelector:t.remove_quantity_selector,override_cart_button:t.override_cart_button,remove_branding:t.remove_branding,remove_decimals:t.remove_decimals,using_currency_converter:t.using_currency_converter,global_css:t.global_css},window.pb.metaData=d,t.bundles){let e=await function(t){let e=t.bundle_products,n=[...new Set(e.map((t=>t.handle)))];if(t.settings?.free_gift_products?.length>0){const e=t.settings.free_gift_products.map((t=>t.handle));n=[...new Set([...n,...e])]}const r=n.map((t=>fetch(`${window.Shopify.routes.root||"/"}products/${t}.js`,{method:"GET",headers:{Accept:"application/json"}}).then((t=>t.json()))));return Promise.all(r).then((n=>{let r=e.map((t=>{if(!t||!t.handle)return console.log("Invalid product data:",t),t;let e=n.find((e=>e&&e.handle===t.handle));if(!e)return console.log("No matching product data found for handle:",t.handle),t;let r=[];return t.variants&&Array.isArray(t.variants)&&(r=t.variants.map((t=>{if(!t||!t.id)return console.log("Invalid variant data:",t),t;let n=e.variants.find((e=>e&&e.id&&`${e.id}`==`${t.id.replace("gid://shopify/ProductVariant/","")}`));return n?{...t,price:n.price/100}:t}))),{...t,price:r.find((e=>e&&e.id===t.id))?.price||t.price,variants:r}})),a=[];return t.settings?.free_gift_products?.length>0&&(a=t.settings.free_gift_products.map((t=>{if(!t||!t.handle)return console.log("Invalid free gift product data:",t),t;let e=n.find((e=>e&&e.handle===t.handle));if(!e)return console.log("No matching product data found for free gift handle:",t.handle),t;let r=[];t.variants&&Array.isArray(t.variants)&&(r=t.variants.map((t=>{if(!t||!t.id)return console.log("Invalid free gift variant data:",t),t;let n=e.variants.find((e=>e&&e.id&&`${e.id}`==`${t.id.replace("gid://shopify/ProductVariant/","")}`));return n?{...t,price:n.price/100}:t})));const a=e.variants.find((e=>e&&e.id&&`${e.id}`==`${t.id.replace("gid://shopify/ProductVariant/","")}`));return{...t,price:a?a.price/100:t.price,variants:r}}))),{...t,bundle_products:r,settings:{...t.settings,free_gift_products:a}}})).catch((t=>(console.error("Error fetching bundle products:",t),null)))}(t.bundles);o=e}else o=null}catch(t){console.error("Failed to fetch offer data:",t,t.message),a=null,o=null,c=null}c&&i(c,null,d),i(a,o,d),window.pb.bxgyData&&i(window.pb.bxgyData,null,d),t&&setTimeout((()=>{e(15)}),500)}else console.error("Could not determine product UUID")}(r)}else{const t=sessionStorage.getItem("__pb_offer_stats"),e=t?JSON.parse(t):null;window.location.href.includes("/cart")&&e?.cart_based_offer_count>0&&!e?.enable_cart_drawer?f():console.log("no cart offer"),window.onOtherPages=!0;let r=(()=>{let t=[];return document.querySelectorAll(["form[action$='/cart/add'][method='post']",'form[data-type="add-to-cart-form"]',".ajax-product-form",".product-single__form","#addtc-sticky-bar",".cow-form"].join(", ")).forEach((function(e){for(let n=0;n<_t.length;n++)if(e.querySelectorAll('[name="id"]').length>0&&e.querySelectorAll(_t[n]).length>0){t.push(e);break}})),t})(),a={},o=[];r.map((t=>{let e=t.querySelectorAll('[name="product-id"]')[0].value;o.push(e),a[e]=t}));let c={shopify_domain:window.Shopify.shop,product_ids:o};if(0===o.length)return void(window.onOtherPages=!0);let d=await fetch(`https://bundle.sidepanda.com/scripttag/check_variants?session_uuid=${Qt()}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),u=await d.json();window.pb={otherPagesData:[]},u.pds&&u.pds.length>0&&u.pds.forEach((async(t,e)=>{let r=null,o=null,c={cartSelector:u.cart_selector,quantitySelector:u.quantity_selector,removeQuantitySelector:u.remove_quantity_selector,override_cart_button:u.override_cart_button,remove_branding:u.remove_branding,remove_decimals:u.remove_decimals,using_currency_converter:u.using_currency_converter,global_css:u.global_css};if(t.volume_discounts&&t.product_handle){r=t.volume_discounts;let i=await fetch(`${window.Shopify.routes.root||"/"}products/${t.product_handle}.js`,{method:"GET",headers:{Accept:"application/json"}}),s=await i.json();r=await n(r,s);let l=a[t.product_id];window.pb.otherPagesData.push({shopify_product:s,offerData:r,bundleData:o,metaData:c,element:l,index:e})}if(t.bxgy_discounts&&t.product_handle)try{let e=await fetch(`${window.Shopify.routes.root||"/"}products/${t.product_handle}.js`,{method:"GET",headers:{Accept:"application/json"}}),n=await e.json();const a=l(await s(t.bxgy_discounts),n);a&&(r=a)}catch(t){console.error("Failed to prepare BxGy data on other pages:",t)}t.bundles&&(o=t.bundles),i(r,o,c,a[t.product_id],e)}))}}(),()=>{r=!1}}),[]),Pe(w,{})})),Qe)})();
//# sourceMappingURL=bundle.js.map